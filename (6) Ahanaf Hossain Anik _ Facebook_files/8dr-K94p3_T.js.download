if (self.CavalryLogger) { CavalryLogger.start_js(["8SwtMIw"]); }

__d("SphericalMediaGyroOverlay.react",["cx","CSS","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=800,k=function(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=!1);return{gyroRoot:"_1zvy"+(a?" _2dz7":"")+(b?" _4z8s":"")+(c?" _4z8p":""),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootRef=i.createRef(),b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this;if(a.isActive&&!this.props.isActive)setTimeout(function(){var a=b.rootRef.current;a instanceof Element&&d("CSS").hide(a)},j);else if(!this.props.isActive){a=this.rootRef.current;a instanceof Element&&d("CSS").hide(a)}};e.componentDidMount=function(){if(!this.props.isActive){var a=this.rootRef.current;a instanceof Element&&d("CSS").hide(a)}};e.render=function(){var a=this.props,b=a.className,d=a.isActive,e=a.isInfinite;a=a.isPaused;d=k(d,e,a);return i.jsx("div",{className:c("joinClasses")(b,d.gyroRoot),ref:this.rootRef,children:i.jsxs("div",{className:d.gyroOuter,children:[i.jsxs("div",{className:d.gyroInner,children:[i.jsx("div",{className:d.gyroMeridian}),i.jsx("div",{className:d.gyroEquator})]}),i.jsx("div",{className:d.gyroTextShell,children:i.jsx("span",{className:d.gyroText,children:"360"})})]})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("VideoPlayerSphericalFallbackCover.react",["fbt","SphericalMediaGyroOverlay.react","TetraText.react","react","unrecoverableViolation","useCometRouterDispatcher","useFeedClickEventHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var b=a.videoTahoeUrl,d=c("useCometRouterDispatcher")();a=j(!1);var e=a[0],f=a[1];if(d==null)throw c("unrecoverableViolation")("Missing CometRouterDispatcher","comet_video_player");a=c("useFeedClickEventHandler")(function(){d.go(b,{})});return i.jsxs("div",{className:"bkfpd7mw cbu4d94t j83agx80 nhd2j8a9 bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",onClick:a,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},role:"link",tabIndex:0,children:[i.jsx(c("SphericalMediaGyroOverlay.react"),{isActive:!0}),i.jsx("div",{className:"l9j0dhe7 i7orit0i",children:e?i.jsx(c("TetraText.react"),{color:"white",type:"bodyLink3",children:h._("Click to expand")}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d===void 0&&(d=null),this.$1=null,this.$2=new Map(),this.$4=!1,this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))(),this.$7=new(c("oz-player/utils/OzErrorEmitter"))(),this.$8=!1,this.$9=null,this.$10=0,this.$11=null,this.$12=[],this.$13=null,this.$14=[],this.$5=b,this.$1=d,this.$3=a.cloneContext().setType("drm_manager")}var b=a.prototype;b.hasContentProtections=function(){return this.$9};b.onError=function(a){return this.$7.onError(a)};b.$15=function(a,b){var d;a instanceof c("oz-player/utils/OzError")?d=a:a instanceof Error?(a.stack,d=new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{originalError:a}})):a!=null&&typeof a.message==="string"?d=new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:a.message,extra:{}}):d=new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Unknown DRM "+b+" error",extra:{}});return d};b.$16=function(a){this.$7.emitError(a)};b.$17=function(a,b){var c;c=(c=(c=this.$1)==null?void 0:c.maxStartEMEAttempts)!=null?c:-1;this.$10<c?this.$18():this.$16(this.$15(a,b))};b.addProvider=function(a){this.$2.set(a.getSchemeId(),a)};b.getProviderForSchemeId=function(a){return this.$2.get(a)};b.parseContentProtectionForRepresentation=function(a){if(!a.ContentProtection)return null;var b=[];for(var c=0;c<a.ContentProtection.length;c++){var e=a.ContentProtection[c],f=e.$.schemeIdUri;f=this.getProviderForSchemeId(f);if(f){var g=f.getInitDatas();if(g.length==0&&e["cenc:pssh"]&&e["cenc:pssh"].length===1){e=e["cenc:pssh"][0]._;e=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(e.replace(/-/g,"+").replace(/_/g,"/"));g=[{data:e,type:"cenc"}];f.setInitDatas(g)}b.push({provider:f,initDatas:g})}}return b};b.$18=function(){try{this.$8=!1,this.startEME(this.$11,this.$12,this.$13,this.$14)}catch(a){this.$16(new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+(a?a.toString():"null"),extra:{}}))}};b.startEME=function(a,b,d,e){var f=this;if(this.$8)return;this.$8=!0;this.$10+=1;this.$11=a;this.$12=b;this.$13=d;this.$14=e;var g=new Map();this.$19(d,e,g,"audio");this.$19(a,b,g,"video");var h;g.forEach(function(a,b){!h?h=f.$20(b,a):h=h["catch"](function(){return f.$20(b,a)})});if(!h){this.$9=!1;return}this.$9=!0;var i=this.$3.getOperationLogger("drm_setup").start();h.then(this.$21.bind(this)).then(this.$22.bind(this)).then(this.$23.bind(this)).then(function(){return i.log()},function(a){a=a!=null?f.$15(a,"keypromisechain"):new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Unknown DRM setup error",extra:{}});f.$16(a);i.setResult("failed").setError(a).log()})};b.$24=function(a){a instanceof c("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed")};b.$19=function(a,b,c,d){var e=this;b.forEach(function(b){var f;a&&a.ContentProtection?f=e.parseContentProtectionForRepresentation(a):f=b.getCustomField("drmProtections");var g=b.getMimeCodecs();f!==void 0&&f!==null&&f.forEach(function(a){a=a.provider;c.has(a.getKeySystem())||c.set(a.getKeySystem(),{audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()});var b=c.get(a.getKeySystem());d==="audio"&&!b.audioCapabilities.has(g)&&b.audioCapabilities.set(g,{contentType:g,robustness:a.getAudioRobustness()});d==="video"&&!b.videoCapabilities.has(g)&&b.videoCapabilities.set(g,{contentType:g,robustness:a.getVideoRobustness()})})})};b.destroy=function(){this.$6.release(),this.$4=!0};b.$20=function(a,b){b={audioCapabilities:Array.from(b.audioCapabilities.values()),videoCapabilities:Array.from(b.videoCapabilities.values()),distinctiveIdentifier:b.distinctiveIdentifier,persistentState:b.persistentState,sessionTypes:b.sessionTypes,initDataTypes:b.initDataTypes};return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(window.navigator.requestMediaKeySystemAccess(a,[b]),this.$3,"drm_request_media_key_system_access",function(){},this.$24)};b.$21=function(a){if(this.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("OzDrmManager destroyed before call to mediaKeySystemAccess.createMediaKeys()."));var b=this.$5.mediaKeys!=null?c("oz-player/shims/OzMaybeNativePromise").resolve(this.$5.mediaKeys):a.createMediaKeys();return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b.then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}}),this.$3,"drm_create_media_keys",function(){},this.$24)};b.$22=function(a){var b=this;if(this.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("OzDrmManager destroyed before call to setMediaKeys()"));var e=a.mediaKeySystemAccess,f=a.mediaKeys;if(!f)throw new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=this.$5.setMediaKeys(f).then(function(){if(b.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("OzDrmManager destroyed after setMediaKeys() called."));var a=Array.from(b.$2.values()).find(function(a){return a.getKeySystem()===e.keySystem});if(!a)throw new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+e.keySystem});var d=a.getServerCertificate();return d?f.setServerCertificate(d).then(function(){return{mediaKeySystemAccess:e,mediaKeys:f,provider:a}}):{mediaKeys:f,provider:a}});return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,this.$3,"drm_set_media_keys",function(){},this.$24)};b.$23=function(a){var b=this,e=a.mediaKeys,f=a.provider;a=f.getInitDatas();if(a.length===0){this.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$5,"encrypted",function(a){b.$25(e,f,a)["catch"](function(a){b.$17(a,"encrypted")})}));return c("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return b.$25(e,f,{initData:a.data,initDataType:a.type})});return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(c("oz-player/shims/OzMaybeNativePromise").all(a),this.$3,"drm_request_license",function(){},this.$24)};b.$25=function(a,b,d){var e=this,f=a.createSession();this.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f,"message",function(a){e.$26(f,b,a)["catch"](function(a){e.$17(a,"message")})}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f,"keystatuseschange",function(a){e.$27(f)["catch"](function(a){e.$17(a,"keystatuseschange")})}));return f.generateRequest(d.initDataType,d.initData)};b.$26=function(a,b,d){var e=this;d=b.getLicenseRequestInfo(d.message.slice(0));return window.fetch(d.url,d).then(function(a){return a.arrayBuffer()}).then(function(d){d=new Uint8Array(d);d=b.parseLicenseResponse(d);d===null||d===void 0||d.byteLength===0?e.$16(new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:"No license for "+b.getKeySystem(),extra:{}})):a.update(d)})};b.$27=function(a){return a.expiration<Date.now()?a.close():c("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();g.OzDrmManager=a}),98);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function i(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function j(a,b){return Math.floor(a).toString().padStart(b,"0")}function k(a,b){b===void 0&&(b=null);var c=function(a){return j(a.getHours(),2)+":"+j(a.getMinutes(),2)+":"+j(a.getSeconds(),2)+" "+j(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function l(a){return a==="failed"?i:h}function m(a){return!a?null:a.toFixed(2)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new n(a)};c.createLoggerProvider=function(){return new b()};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=m(this.getSegmentStartTime()),i=m(this.getSegmentEndTime());l(d)("["+d+"]",this.getOperationName()+": "+k(new Date(a),c),e?"["+e+"]":"",h&&i?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzDevConsolePerfLoggerProvider=a;g.OzDevConsoleOperationLogger=n}),98);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("oz-player/shims/OzSubscriptionsHandler"))()}var b=a.prototype;b.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){var c=a.getClientTimeBegin()||0,d=a.getClientTimeEnd()||0;b.getOperationLogger(a.getOperationName()).setClientTimeBegin(c).setClientTimeDuration(d-c).setClientTimeEnd(d).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};b.destroy=function(){this.$1.release()};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";d=function(){function a(){this.$1=new Map()}var b=a.prototype;b.append=function(a,b){a=a.toLowerCase();var c=this.$1.get(a);c!=null?this.$1.set(a,c+", "+b):this.$1.set(a,b)};b.get=function(a){a=a.toLowerCase();a=this.$1.get(a);return(a=a)!=null?a:null};b.entries=function(){return this.$1.entries()};b.has=function(a){return this.get(a)!==null};return a}();e=a.Headers;f=e&&e.prototype;var h=e&&f&&typeof f.append==="function"&&typeof f.entries==="function"&&typeof f.get==="function"&&typeof f.has==="function"?e:d;function b(a){if(a==null)return null;if(typeof a==="object"&&typeof a.append==="function"&&typeof a.get==="function"&&typeof a.has==="function")if(typeof a.entries==="function")return a;else if(typeof a.forEach==="function"){var b=new h();a.forEach(function(a,c){b.append(c,a)});return b}c("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof a,String(a));return null}g.OzHTTPHeaders=h;g.maybeConvertHeadersToOzHTTPHeaders=b}),98);
__d("oz-player/manifests/OzDynamicVideoLibrary",["oz-player/shims/OzNetworkDiagnostics"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getLastSegmentStartPTS=function(){return this.$1};b.updateWithSegmentHeaders=function(a){this.$1=c("oz-player/shims/OzNetworkDiagnostics").getDvlLastFetchedSegmentPTS(a)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$1=a,this.$6=b,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$7=g,this.$8=h}var b=a.prototype;b.getID=function(){return this.$6};b.getBandwidth=function(){return this.$5};b.getMimeCodecs=function(){return this.$2};b.getQualityLabel=function(){return this.$6};b.getInitSegment=function(){return this.$3};b.getCustomFieldFirstSegment=function(){return this.$7};b.getCustomField=function(a){if(this.$8==null||!this.$8[a])throw new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller",extra:{code:"OZ_RP-8"}});a=this.$8[a];try{return a(this.$1)}catch(a){return null}};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,229),this.$4.updateWith(b.$4)};b.getSegmentByTime=function(a){return this.$4.getSegmentByTime(a)};b.getSegment=function(a){return this.$4.getSegment(a)};b.getPredictedSegmentAfter=function(a){return this.$4.getPredictedSegmentAfter(a)};b.canPredict=function(){return this.$4.canPredict()};b.canApproximateId=function(){return this.$4.canApproximateId()};b.getSegmentAfter=function(a){return this.$4.getSegmentAfter(a)};b.isEndingSegment=function(a){return this.$4.isEndingSegment(a)};b.addUpdateListener=function(a){return this.$4.addUpdateListener(a)};b.getTimeRanges=function(){return this.$4.getTimeRanges()};b.blockTimeRange=function(a){this.$4.blockTimeRange(a)};b.getEndingSegment=function(){return this.$4.getEndingSegment()};b.forceParseIfNotParsed=function(){return this.$4.forceParseIfNotParsed()};b.getMaxGopSec=function(){return this.$4.getMaxGopSec()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){c=a.call(this,b,c,d,e,f,g,h,i)||this;c.$OzVideoRepresentation5=null;c.$OzVideoRepresentation1=j;c.$OzVideoRepresentation2=k;c.$OzVideoRepresentation4=i;c.$OzVideoRepresentation3=b;return c}var c=b.prototype;c.getWidth=function(){return this.$OzVideoRepresentation1};c.getHeight=function(){return this.$OzVideoRepresentation2};c.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};return b}(c("oz-player/manifests/OzRepresentation"));g["default"]=a}),98);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$5=function(){var a=d.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=d.$1.getMediaSource();d.$4.getBool("update_media_source_duration")&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&d.$1.updateDuration(a.endTime)};this.$1=a;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=b;this.$5()}var b=a.prototype;b.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};b.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){if(b.$4.getBool("update_duration_when_init_appended")){var a=b.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&b.$5()}})};b.destroy=function(){this.$3.release()};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(c("oz-player/shims/OzReadableStream"))({pull:function(b){b.error(a)}})}g["default"]=a}),98);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(c("oz-player/shims/OzReadableStream"))({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}g["default"]=a}),98);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.body,e=a.ok,f=a.status,g=a.headers;return b!=null?{ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(b)}:a.arrayBuffer().then(function(a){return{ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/arrayBuffer2OzReadableStream")(a)}})}g["default"]=a}),98);
__d("oz-player/networks/OzFetch",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";var h=window.fetch;function a(a,b,d,e){if(!h)throw new Error("fetch api is missing");var f=null;d=d?d.networkTimeoutMs:null;if("AbortController"in window&&d!=null&&d!=0){var g=new AbortController();f=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return g.abort()},d);b.signal=g.signal}d=h(a,b).then(function(a){c("oz-player/shims/ozClearTimeout")(f);var b=a.ok,d=a.status,g=a.headers;return e!=null&&e.getBool("get_fetch_body_text_when_response_not_ok")&&!b&&typeof a.text==="function"?a.text().then(function(a){return{ok:b,status:d,headers:g,body:a}}):c("oz-player/utils/processFetchResponse")(a)});return d}g["default"]=a}),98);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetch","oz-player/utils/OzError","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i){e===void 0&&(e=null);g===void 0&&(g=null);i===void 0&&(i="DISABLE_CACHE");var j=e!=null?e:c("oz-player/networks/OzFetch");e=a.getBool("use_segment_request_cache")&&i==="ENABLE_CACHE"?h.get(b):null;g=g?g.getCacheValue(b):null;e=e!=null?e:g;g=!1;e?(i==="ENABLE_CACHE"&&h.set(b,e),g=!0,i=e.then(function(b){if(b.initiator==="FETCH"){var d=b.response,e=d.ok,f=d.status,g=d.headers;return a.getBool("get_fetch_body_text_when_response_not_ok")&&!e&&typeof b.response.text==="function"?b.response.text().then(function(a){return{ok:e,status:f,headers:g,body:a}}):c("oz-player/utils/processFetchResponse")(b.response)}else if(b.initiator==="XHR_REQUEST"){d=c("oz-player/utils/arrayBuffer2OzReadableStream")(b.response);return{body:d,status:200,headers:null,ok:!0}}else throw new(c("oz-player/utils/OzError"))({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+b.initiator})})["catch"](function(c){if(a.getBool("retry_fetch_on_prefetch_error"))return j(b,d);else throw new TypeError()})):i=j(b,d,f,a);return{promise:i,retrievedFromCache:g}}g["default"]=a}),98);
__d("oz-player/networks/createNetworkError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f){return new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:f,extra:{originalError:a,code:b.toString(),headers:d,url:e}})}g["default"]=a}),98);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/networks/OzTransformStream","oz-player/networks/createNetworkError","oz-player/shims/ozvariant","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i,j,k){e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),i===void 0&&(i="DISABLE_CACHE"),j===void 0&&(j=null),this.$6=!1,this.$1=b,this.$2=c,this.$3=d,this.$8=e||[],this.$9=j,this.$7=f,this.$10=g,this.$12=a,this.$11=h,this.$13=i||"DISABLE_CACHE",this.$14=k}var b=a.prototype;b.$15=function(a){a=this.$3.createRequestParam(this.$1,a);var b=a.uri;a=a.http;b=b.toString();this.$4=b;a=c("oz-player/networks/OzFetchWithCache")(this.$12,b,a,this.$7,this.$2,this.$10,this.$11,this.$13);var d=a.promise;a=a.retrievedFromCache;this.$6=a;return{requestPromise:d,requestUrl:b}};b.startStream=function(a){var b=this,d=this.$15(a),e=d.requestPromise;d=d.requestUrl;var f=d;return e.then(function(d){if(d.status==200&&d.headers){var e;(e=b.$14)==null?void 0:e.updateWithSegmentHeaders(d.headers)}b.$5=d;if(b.$9!=null&&d.ok===!1)return b.$9(d,function(){var d=b.$15(a),c=d.requestPromise;d=d.requestUrl;f=d;return c},f)["catch"](function(a){throw new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR",description:a.message,extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR,url:f}})});else return d}).then(function(a){var d=[];for(var e=0;e<b.$8.length;e++)try{var g=b.$8[e].onResponse(a,f);g&&d.push(g)}catch(a){return c("oz-player/networks/OzCreateErrorStream")(a)}g=a.body;e=a.headers;var h=a.ok;a=a.status;if(!h)return c("oz-player/networks/OzCreateErrorStream")(c("oz-player/networks/createNetworkError")(new Error("HTTP status not OK"),a,e,f,typeof g==="string"&&g.length>0?g:"HTTP error."));g.getReader||c("oz-player/shims/ozvariant")(0,3287);h=g;for(var a=0;a<d.length;a++)h=h.pipeThrough(d[a]);if(!b.$12.getBool("throw_network_error_during_stream"))return h;e=new(c("oz-player/networks/OzTransformStream"))({errorTransform:function(a){return a instanceof TypeError?c("oz-player/networks/createNetworkError")(a,0,null,f,"Network failure."):a}});return h.pipeThrough(e)},function(a){var d=[];for(var e=0;e<b.$8.length;e++)try{var g=b.$8[e].onError(a,f);g&&d.push(g)}catch(a){return c("oz-player/networks/OzCreateErrorStream")(a)}if(a instanceof TypeError){g=c("oz-player/networks/OzCreateErrorStream")(c("oz-player/networks/createNetworkError")(a,0,null,f,"Network failure: "+a.message));for(var e=0;e<d.length;e++)g=g.pipeThrough(d[e]);return g}throw a})["catch"](function(a){if(a instanceof c("oz-player/utils/OzError")&&a.getType()==="OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR")throw a;return a.name==="AbortError"?c("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:f,message:a}):c("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:f,message:"Stream processing error. "+a})})};b.getLastRequestUrl=function(){return this.$4};b.getLastResponse=function(){return this.$5};b.retrievedFromCache=function(){return this.$6};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function e(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}f.startsAtSame=a;f.startsImmediateAfter=b;f.startsDuring=c;f.union=d;f.disjoinAfter=e;f.getLength=g}),66);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var b=a.prototype;b.produce=function(a){this.$6(a)};b.signalProducerInterruption=function(){this.$6(new(c("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};b.consume=function(a){var b=this;if(this.$3)throw new Error("A buffer can only be consumed by one client at a time");this.$3=!0;var d=c("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),d=this.$4.getPromise());return d.then(function(){if(b.$1){if(b.$2[b.$5]===void 0)throw new Error("buffer has no value at position "+b.$5)}else if(b.$2.length===0)throw new Error("buffer length must not be 0");b.$4=null;b.$3=!1;var c=b.$1?b.$7(a):b.$8(a);if(c instanceof Uint8Array)return c;throw c})};b.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};b.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};b.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};b.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();g["default"]=a}),98);
__d("oz-player/utils/ozPipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}f["default"]=a}),66);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/ozPipeErrorTo"],(function(a,b,c,d,e,f,g){"use strict";function h(){return new Error("Upstream has an inconsistent range")}var i=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(b,d,e,f,g){var j=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.startStream=function(){j.$13=!0;var b={startByte:j.$1.startByte,endByte:j.$1.endByte};!j.$16?b.startByte+=j.$8:j.$8&&(j.$3.produce("skip_buffered_bytes"),j.$8=0);var d=j.$4;return j.$2.startStream(b).then(function(b){b.pipeTo(j.$17?d:j.$4).then(function(){j.$12&&j.$12.resolve("stream_done")})["catch"](function(b){j.$12&&!j.$12.isSettled()&&(j.$17&&b===a.STREAM_PAUSED?j.$12.resolve("stream_paused"):j.$12.reject(b))});j.$12=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:j.$12.getPromise()}})};this.$19=b;this.$20=d;this.$1=e;this.$2=f;b=g||{};d=b.fixStreamingUndefinedEndByte;e=b.disableDeferredBufferArrayShift;f=b.enablePausableStreamResumeFromStartDangerously;g=b.fixPausePreReadableStream;b=b.throwErrorWhenAborted;this.$11=!!d;this.$16=!!f;this.$17=!!g;this.$18=!!b;this.$3=new(c("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!e});this.$6=new this.$19({start:function(a){j.$10=a},pull:function(a){if((j.$11&&j.$1.endByte===null&&j.$5||j.$7===j.$21())&&j.$3.isEmpty()){a.close();return c("oz-player/shims/OzMaybeNativePromise").resolve()}var b=function b(){var d=j.$15.hasMoreBytesToSkip()?j.$15.getBytesToSkip():void 0;return j.$3.consume(d).then(function(d){if(j.$15.hasMoreBytesToSkip()){j.$15.setBytesSkipped(d.length);return b()}j.$7+=d.length;var e=j.$21();e!==null&&j.$7>(e||0)&&c("oz-player/utils/ozPipeErrorTo")(j.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){j.$15.setBytesToSkip(j.$7);return b()}throw a})};return b()},cancel:function(a){j.$12&&j.$12.resolve("stream_cancelled"),c("oz-player/utils/ozPipeErrorTo")(j.$9,a)}});this.$22()}var b=a.prototype;b.$21=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};b.$22=function(){var a=this;this.$4=new this.$20({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var b=a.$1,d=b.endByte;b=b.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-b+1&&c("oz-player/utils/ozPipeErrorTo")(a.$10,h())},abort:function(b){a.$12&&(a.$18?a.$12.reject(b):a.$12.resolve("stream_aborted")),c("oz-player/utils/ozPipeErrorTo")(a.$10,b)}})};b.getStream=function(){return this.$6};b.pauseStream=function(){c("oz-player/utils/ozPipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$22()};b.getByteRange=function(){return this.$1};b.getBytesStreamed=function(){return this.$7};b.tryConcatByteRange=function(a){if(this.$13||!d("oz-player/manifests/OzByteRange").startsImmediateAfter(a,this.$1))return!1;this.$1={startByte:this.$1.startByte,endByte:a.endByte};return!0};return a}();a.STREAM_PAUSED="streamPaused";g["default"]=a}),98);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){var d=this;this.createRequestParam=function(a,b){var e=new(c("oz-player/shims/OzURI"))(a.toString());if(b){a=b.startByte;var f=b.endByte;a===0&&(f===null||f===void 0)||(e.addQueryData({bytestart:b.startByte}),f!==null&&f!==void 0&&e.addQueryData({byteend:f}))}if(d.$2){var g=d.$2(e);g&&Object.keys(g).forEach(function(a){var b=g[a];e.addQueryData(a,b)})}a=d.$1&&d.$1(e)?"include":"same-origin";return{uri:e,http:{credentials:a}}};this.$1=a;this.$2=b};g["default"]=a}),98);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}f["default"]=a}),66);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a?parseInt(a.get("content-length"),10):null},i=function(a){return a?a.get("x-fb-edge-hit"):null},j=function(a){return a?a.get("x-fb-origin-hit"):null},k=function(a){return a?parseInt(a.get("x-fb-dynamic-latest-segment-id"),10):null},l=function(a,b){b=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,b,d,e,f,g,m){e.length&&a.setSegmentCount(e.length),b&&l(a,b),a.setResource(b||null).setInitiator(d?"prefetch":"fetch").setTimeToRequestSent(Math.round(Math.floor(f))).setLiveheadSeqNumHeader(k(m==null?void 0:m.headers)).setContentLengthHeader(h(m==null?void 0:m.headers)).setEdgeHitHeader(i(m==null?void 0:m.headers)).setOriginHitHeader(j(m==null?void 0:m.headers)).setResponseTimeMsHeader(c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(m==null?void 0:m.headers)).setCode(m==null?void 0:m.status).setLength(g)};g.setPerformanceLoggingAttributes=l;g.setFetchStreamLoggingAttributes=a}),98);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzReadableStream","oz-player/shims/OzURI","oz-player/shims/OzWritableStream","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$10=null;var b=a.config,d=a.prefetchCache,e=a.networkRequestStreamHandlers,f=a.getOverrideOzRequestImplementation,g=a.getShouldIncludeCredentials,h=a.getCustomRequestParametersForURI,i=a.networkRequestStreamRetryHandler,j=a.setCustomFetchStreamLoggingAttributes;a=a.dynamicVideoLibrary;this.$2=b;this.$7=g;this.$8=h;this.$1=new(c("oz-player/networks/RequestParamCreator"))(this.$7,this.$8);this.$3=d;this.$4=e;this.$5=i;this.$6=f;this.$10=j;this.$9=new Map();this.$11=a}var b=a.prototype;b.destroy=function(){this.$9&&this.$9.clear()};b.request=function(a,b,d,e){d===void 0&&(d=null);e===void 0&&(e="DISABLE_CACHE");a.length>0||c("oz-player/shims/ozvariant")(0,212);var f=c("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},g=this.$6?this.$6():null;g=new(c("oz-player/networks/OzNetworkRequestStream"))(this.$2,a[0].getURI(),null,this.$1,this.$4,g,this.$3,this.$9,e,this.$5);return this.$12(f,g,b,d,a)};b.createPausableStream=function(a,b,d){a.length>0||c("oz-player/shims/ozvariant")(0,212);var e=c("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},f=null,g=this.$2.getNumber("network_seg_timeout_ms");g>0&&(f={networkTimeoutMs:g});g=this.$6?this.$6():null;var h=new(c("oz-player/networks/OzNetworkRequestStream"))(this.$2,a[0].getURI(),f,this.$1,this.$4,g,this.$3,this.$9,null,this.$5);return{pausableStream:this.$13(e,h,b||null,d),loggingPayloads:{getRequestUrl:function(){return h.getLastRequestUrl()||null},isPrefetch:function(){return h.retrievedFromCache()},segments:a,getResponse:function(){return h.getLastResponse()}}}};b.requestRawUrl=function(a,b,d,e){e===void 0&&(e=null);b=this.$6?this.$6():null;a=new(c("oz-player/networks/OzNetworkRequestStream"))(this.$2,new(c("oz-player/shims/OzURI"))(a),d,this.$1,this.$4,b,this.$3,this.$9,null,this.$5,this.$11);d={startByte:0,endByte:null};return this.$12(d,a,[],e)};b.$13=function(a,b,d,e){b=b;if(d!=null)for(var f=0;f<d.length;f++){var g=d[f];b=g(this.$2,b,e)}return new(c("oz-player/networks/OzPausableRangeStream"))(c("oz-player/shims/OzReadableStream"),c("oz-player/shims/OzWritableStream"),a,b,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:this.$2.getBool("pausable_stream_throws_error_when_aborted")})};b.$12=function(a,b,c,e,f){var g=this;f===void 0&&(f=[]);var h=this.$13(a,b,c,e);a=h.startStream();var i=this.$14(a);e&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,e,"fetch_stream",function(){},function(a){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,b.getLastRequestUrl(),b.retrievedFromCache(),f,0,h.getBytesStreamed(),b.getLastResponse());var c=g.$10;c&&c(a,b.getLastRequestUrl(),b.getLastResponse())});return{getStream:function(){return h.getStream()},cancel:function(){return h.pauseStream()},getStatusChangePromise:function(){return i}}};b.$14=function(a){var b=this;return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!b.$2.getBool("enable_network_manager_error"))return"done";throw new(c("oz-player/utils/OzError"))({description:a,type:"OZ_NETWORK"})})})};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!c("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h){var i;i=a.call(this)||this;i.$Mpd8=!1;i.$Mpd1=b;i.$Mpd4=f;i.$Mpd2=c;i.$Mpd3=d;i.$Mpd5=e;i.$Mpd6=g;i.$Mpd7=h;return i}var c=b.prototype;c.markRefreshed=function(){this.$Mpd9=Date.now()};c.getRefreshDate=function(){return this.$Mpd9};c.updateLocation=function(a){this.$Mpd5=a,this.$Mpd8=!0,this.emit("locationUpdated")};c.getLocation=function(){return this.$Mpd5};c.getMinimumUpdatePeriod=function(){return this.$Mpd4};c.getVideoRepresentations=function(){return this.$Mpd2};c.getAudioRepresentations=function(){return this.$Mpd3};c.getCustomField=function(a){var b=this.$Mpd6.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$Mpd1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd7};c.updateWith=function(a){this.$Mpd8&&(this.$Mpd8=!1,this.$Mpd2.splice(0,this.$Mpd2.length),this.$Mpd3.splice(0,this.$Mpd3.length)),this.$Mpd1=a.$Mpd1,this.$Mpd10(this.$Mpd2,a.getVideoRepresentations()),this.$Mpd10(this.$Mpd3,a.getAudioRepresentations()),this.$Mpd7=a.isStaticMpd(),this.$Mpd4=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd3.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd10=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){d=a.call(this,b,c,d,e,f,g,h,i)||this;d.$OzAudioRepresentation1=b;d.$OzAudioRepresentation2=c;d.$OzAudioRepresentation3=g;return d}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation3/a).toFixed(1)+"Kbps"};c.getQualityLabel=function(){return this.$OzAudioRepresentation2};return b}(c("oz-player/manifests/OzRepresentation"));g["default"]=a}),98);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.getData=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return null};b.getURI=function(){return this.$2};b.getSequenceNumber=function(){return null};return a}();a=function(){function a(a,b,d,e,f){this.$2=d,this.$1=b,this.$3=a,e?this.$4=e:this.$4=new(c("oz-player/parsers/OzDefaultSegmentTimelineParser"))(),this.$5=f}var b=a.prototype;b.parseInitializationSegment=function(){var a=d("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new h(new(c("oz-player/shims/OzURI"))(a),this.$5)};b.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};return a}();f["default"]=a}),66);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,d,e){var f=b.getBool("estimate_video_bandwidth_only")?a==="video":!0;return d instanceof c("oz-player/networks/OzNetworkRequestStream")&&f?c("oz-player/networks/OzBandwidthEstimator").pipeThroughReporter(b.getLegacyConfig(),d,e):d}}g["default"]=a}),98);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("DataViewReader")}),98);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDataViewReaderWWW")}),98);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader"],(function(a,b,c,d,e,f,g){"use strict";var h=1936286840;function a(a,b,d,e){var f=new(c("oz-player/shims/OzDataViewReader"))(new DataView(e.buffer));e=f.readUint32();var g=f.readUint32();if(g!==h)throw new Error('Invalid box type, expected "sidx".');e==1&&(e=f.readUint64());g=f.readUint8();f.skip(3);f.skip(4);var i=f.readUint32();if(!i)throw new Error("Invalid timescale.");var j;g==0?(g=f.readUint32(),j=f.readUint32()):(g=f.readUint64(),j=f.readUint64());f.skip(2);var k=f.readUint16(),l=g,m=d+e+j,n=0,o=a.getBool("sidx_parser_memory_optimization"),p=[];g=function(a){var d=f.readUint32(),e=(d&2147483648)>>>31;d=d&2147483647;var g=f.readUint32();f.readUint32();if(e==1)throw new Error("Heirarchical SIDXs are not supported.");var h=l/i,j=(l+g)/i;a===0&&(n=h);var k=m,q=k+d-1;p.push(o?new(c("oz-player/manifests/OzDataSegment"))(b,h-n,j-n,k,q):{getData:function(){return null},getURI:function(){return b},getTimeRange:function(){return{startTime:h-n,endTime:j-n}},getByteRange:function(){return{startByte:k,endByte:q}},getSequenceNumber:function(){return null}});l+=g;m+=d};for(var d=0;d<k;d++)g(d);return p}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsContainer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=null),this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw new Error("Not implemented: updatedWith")};b.addUpdateListener=function(a){return this.$2.addListener("segment_updated",a)};b.forceParseIfNotParsed=function(){this.$3&&(this.$3(),this.$3=null)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};b.getEndingSegment=function(){var a=this.$1();a=a.length>0?a[a.length-1]:null;return a};b.getMaxGopSec=function(){return null};return a}();f["default"]=a}),66);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";var h=.1,i=440786851,j=408125543,k=357149030,l=2807729,m=17545,n=475249515,o=187,p=179,q=183,r=241,s=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function t(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var u=function(){function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new v(this.$1)};b.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),v=function(){function a(a){this.$1=a,this.$2=new(c("oz-player/shims/OzDataViewReader"))(this.$1)}var b=a.prototype;b.hasMoreData=function(){return this.$2.hasMoreData()};b.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new u(b,d)};b.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};b.$4=function(){var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<s.length;b++)if(t(a,s[b]))return!0;return!1};return a}();function w(a){a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==l?b=d.getUint():d.id==m&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function x(a,b,d,e,f,g){var i=[];b=b.createParser();var j=-1,k=-1;while(b.hasMoreData()){var l=b.parseElement();if(l.id!=o)continue;l=y(l);if(!l)continue;var m=e*l.unscaledTime;l=d+l.relativeOffset;j>=0&&(k>=0||c("oz-player/shims/ozvariant")(0,4010),i.push(new(c("oz-player/manifests/OzDataSegment"))(g,j,m,k,l-1)));j=m;k=l}if(j>=0){k>=0||c("oz-player/shims/ozvariant")(0,4010);m=f;a.getBool("handle_invalid_webm_duration")&&(m=f>j?f:j+h);i.push(new(c("oz-player/manifests/OzDataSegment"))(g,j,m,k,null))}return i}function y(a){a=a.createParser();var b=a.parseElement();if(b.id!=p)return null;b=b.getUint();a=a.parseElement();if(a.id!=q)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=r)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function z(a){a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=k)continue;b=c;break}return!b?null:w(b)}function A(a){a=new v(a);var b=a.parseElement();if(b.id!=i)return null;b=a.parseElement();if(b.id!=j)return null;a=b.getOffset();b=z(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,b,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=A(d);if(!d)return[];c=new v(c);c=c.parseElement();return c.id!=n?[]:x(a,c,d.segmentOffset,d.timecodeScale,d.duration,b)}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){function a(a,b,d,e,f,g,h,i){i===void 0&&(i=!1),this.$6=new(c("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(c("oz-player/shims/OzEventEmitter"))(),this.$1=b,this.$2=new(c("oz-player/shims/OzURI"))(d),this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType("sidx"),this.$10=a,this.$11=i}var b=a.prototype;b.onError=function(a){return this.$6.onError(a)};b.parseInitializationSegment=function(){var a=this,b=this.$1.Initialization[0].$.range,d=h(b);b=this.$10.getBool("sidx_parser_memory_optimization")?new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,d.startByte,d.endByte):{getData:function(){return null},getURI:function(){return a.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d},getSequenceNumber:function(){return null}};return b};b.parseSegmentsContainer=function(){var a=this,b=function(){d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a.$12(),a.$8,"process_sidx")["catch"](a.$6.emitError)},e=this.$10.getBool("lazy_parse_sidx")&&!this.$11;e||b();e=new(c("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9,e?b:null);return e};b.$13=function(a,b,e){e===void 0&&(e="DISABLE_CACHE");a=new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(a,b.startByte,b.endByte);b=this.$5+";sidx";a=this.$4.request([a],[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(b)],this.$8,e);b=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpAllData(b)};b.$12=function(){var a=this,b=this.$1.$.indexRange,e=h(b);b=[this.$13(this.$2,e)];if(this.$3==="webm"){var f=h(this.$1.Initialization[0].$.range);b.push(this.$13(this.$2,f,"ENABLE_CACHE"));f=c("oz-player/shims/OzMaybeNativePromise").all(b).then(function(b){var c=b[0];b=b[1];a.$7=d("oz-player/parsers/OzWebmSidxParser").parse(a.$10,a.$2,c,b)})}else f=b[0].then(function(b){a.$7=d("oz-player/parsers/OzMp4SidxParser").parse(a.$10,a.$2,e.startByte,b)});return f.then(function(){a.$9.emit("segment_updated")})};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}f.parse=a}),66);
__d("oz-player/parsers/OzRepresentationParser",["oz-player/manifests/OzRepresentation","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k){this.$5=new(c("oz-player/utils/OzErrorEmitter"))();this.$1=b;this.$6=e;this.$7=f;this.$9=d;this.$10=a;this.$11=g;this.$2=h;this.$3=i;this.$4=j;this.$12=k;try{this.$7=this.$7.cloneContext().setRepresentationID(this.parseID())}catch(a){}}var b=a.prototype;b.$13=function(){if(this.$8)return this.$8;if(this.$1.SegmentBase){var a=this.$1.SegmentBase[0],b=this.$1.BaseURL[0]._;typeof b==="string"||c("oz-player/shims/ozvariant")(0,29051);var e=this.$12.includes(this.$1.$.id);this.$8=new(c("oz-player/parsers/OzSidxSegmentsParser"))(this.$10,a,b,d("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),d("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$6,this.$7,e);this.$8.onError(this.$5.emitError)}else if(this.$1.SegmentTemplate)this.$8=this.$14(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$2)this.$8=this.$14(this.$2[0],{isShared:!0});else{a=new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});throw a}return this.$8};b.$14=function(a,b){var d;if(b.isShared){b=babelHelpers["extends"]({},a);b.$=babelHelpers["extends"]({},a.$);b.$.initialization=b.$.initialization.replace("$RepresentationID$",this.$1.$.id);b.$.media=b.$.media.replace("$RepresentationID$",this.$1.$.id);a=b}b=this.$9.mpdUrl;var e=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null;e=e!=null?e:b;if(e==null){var f=new(c("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});throw f}f=this.$9.customSegmentTimelineParser;d=(d=this.$9.customRepresentationParsers)==null?void 0:d.initializationBinary;d=d?d(this.$1):null;return new(c("oz-player/parsers/OzSegmentTemplateParser"))(this.$10,a,{baseUrl:e,mpdUrl:b,isStaticMpd:this.$11.manifestType==="static",isTemplatedMpd:this.$11.manifestIsTemplated},f,d)};b.onError=function(a){return this.$5.onError(a)};b.parseInitSegment=function(){return this.$13().parseInitializationSegment()};b.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};b.parseMimeCodecs=function(){var a,b;a=(a=(a=this.$1.$.mimeType)!=null?a:this.$3)!=null?a:"";b=(b=(b=this.$1.$.codecs)!=null?b:this.$4)!=null?b:"";return a+'; codecs="'+b+'"'};b.parseSegmentsContainer=function(){return this.$13().parseSegmentsContainer()};b.parseID=function(){return""+this.$1.$.id};b.parseCustomFieldFirstSegment=function(){var a=this.$9.customRepresentationParsers?this.$9.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};b.parse=function(){return new(c("oz-player/manifests/OzRepresentation"))(this.$1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$9.customRepresentationParsers)};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){b=a.call(this,b,c,d,e,f,g,h,i,j,k)||this;b.$OzAudioRepresentationParser1=c;b.$OzAudioRepresentationParser2=d;return b}var d=b.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser2.customRepresentationParsers;return new(c("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParser"));g["default"]=a}),98);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){b=a.call(this,b,c,d,e,f,g,h,i,j,k)||this;b.$OzVideoRepresentationParser1=c;b.$OzVideoRepresentationParser2=d;return b}var d=b.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),b=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10),d=this.$OzVideoRepresentationParser2.customRepresentationParsers;return new(c("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,b,a)};return b}(c("oz-player/parsers/OzRepresentationParser"));g["default"]=a}),98);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=[]),this.$2=new(c("oz-player/utils/OzErrorEmitter"))(),this.$5=a,this.$1=d,this.$3=e,this.$4=b,this.$6=f,this.$7=g}var b=a.prototype;b.onError=function(a){return this.$2.onError(a)};b.parse=function(a){a=a;var b=this.$4.createXmlParser().parse(a);b=b.MPD&&b.MPD.length>0?b.MPD[0]:null;if(!b){var d=2e3;throw new Error("parsed manifest XML missing MPD node; truncated xml ("+d+"/"+a.length+"): "+a.substring(0,d))}d=b.Period&&b.Period.length>0?b.Period[0]:null;if(!d){var e=2e3;throw new Error("parsed manifest XML missing Period node; truncated xml ("+e+"/"+a.length+"): "+a.substring(0,e))}a=d.AdaptationSet||[];e=this.$8(b);d=this.$9(b);var f=this.$10(a,"video"),g=this.$11(f,c("oz-player/parsers/OzVideoRepresentationParser"),{manifestType:e,manifestIsTemplated:d});g.sort(function(a,b){return a.getHeight()-b.getHeight()});a=this.$10(a,"audio");d=this.$11(a,c("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:e,manifestIsTemplated:d});d.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var h=this.$4.mpdUrl;h=new(c("oz-player/manifests/Mpd"))(b,g,d,h,this.$12(b),this.$4.customParsers||new Map(),e==="static");if(this.$6){b=this.$6;b.startEME(f,g,a,d)}return h};b.$12=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};b.$8=function(a){return a.$.type||"static"};b.$9=function(a){var b;b=(b=this.$4.customParsers)==null?void 0:b.get("isLiveTemplated");if(!b)return!1;b=b(a);return typeof b==="boolean"&&b};b.$10=function(a,b){return a.find(function(a){if(a.$.mimeType!=null)return a.$.mimeType.indexOf(b)!==-1;a=a.Representation;return a&&a.length&&a[0].$.mimeType.indexOf(b)!==-1})};b.$11=function(a,b,c){var d=this;return!a?[]:a.Representation.map(function(e){e=new b(d.$5,e,d.$4,d.$1,d.$3,c,a.SegmentTemplate,a.$.mimeType,a.$.codecs,d.$7);e.onError(d.$2.emitError);return e.parse()})};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=null;a.forEach(function(a){if(a){var c=a.endTime;c<((c=(c=b)==null?void 0:c.endTime)!=null?c:Infinity)&&(b=a)}});return b}function a(a,b){var c=[];c.push.apply(c,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(c.length)if(b.getBool("get_mpd_least_last_time_range")){a=c.map(function(a){a=a.getEndingSegment();return a?a.getTimeRange():null});return g(a)}else{b=c[0].getEndingSegment();if(b)return b.getTimeRange()}return null}function b(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getSequenceNumber()}return null}f.getLeastEndTimeTimeRange=g;f.getMpdLastTimeRange=a;f.getMpdLastSequenceNumber=b}),66);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzNumericalHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker4=0;d.$OzStreamInterruptChecker5=null;d.$OzStreamInterruptChecker6=!1;d.$OzStreamInterruptChecker2=b;d.$OzStreamInterruptChecker3=c;d.$OzStreamInterruptChecker1=d.$OzStreamInterruptChecker3.getNumber("live_numerical_error_epsilon");return d}var c=b.prototype;c.notifyMpdUpdated=function(){var a=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker2,this.$OzStreamInterruptChecker3),b=a?a.endTime:null,c=!1;b!==null&&(c=this.$OzStreamInterruptChecker3.getBool("stream_interrupted_fuzzy_equals")?this.$OzStreamInterruptChecker5!=null&&d("oz-player/utils/OzNumericalHelper").equalTo(b,this.$OzStreamInterruptChecker5,this.$OzStreamInterruptChecker1):b===this.$OzStreamInterruptChecker5);c?this.$OzStreamInterruptChecker4++:(this.$OzStreamInterruptChecker4=0,this.$OzStreamInterruptChecker6&&this.$OzStreamInterruptChecker5!==null&&this.$OzStreamInterruptChecker5!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker6=!1);c=this.$OzStreamInterruptChecker3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker6&&c>0&&this.$OzStreamInterruptChecker4>=c&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker6=!0);this.$OzStreamInterruptChecker5=b};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzURI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f,g,h,i,j){var k;k=a.call(this)||this;k.$OzMpdUpdater8=new(c("oz-player/utils/OzErrorEmitter"))();k.$OzMpdUpdater10=new(c("oz-player/shims/OzSubscriptionsHandler"))();k.$OzMpdUpdater11=!1;k.$OzMpdUpdater15=0;k.$OzMpdUpdater16=0;k.$OzMpdUpdater17=null;k.$OzMpdUpdater19=!0;k.$OzMpdUpdater22=function(){var a,b=k.$OzMpdUpdater2.getLocation();k.$OzMpdUpdater19=!1;if(!b)return;var e=new(c("oz-player/shims/OzURI"))(b),f=String((a=e.getQueryData().ms)!=null?a:e.getQueryData().ms_dev);if(k.$OzMpdUpdater6.getBool("live_disable_mpd_updates_when_paused")&&!k.$OzMpdUpdater12.isPlaying()){k.setupUpdateLoop();return}var g=k.$OzMpdUpdater5.getOperationLogger("update_manifest").start();k.$OzMpdUpdater25(b).then(function(a){k.$OzMpdUpdater16=0;k.$OzMpdUpdater26();k.$OzMpdUpdater7=0;if(k.$OzMpdUpdater19)return;var e=Object.assign({},k.$OzMpdUpdater13,{mpdUrl:b});e=new(c("oz-player/parsers/OzMpdParser"))(k.$OzMpdUpdater6,e,k.$OzMpdUpdater1,k.$OzMpdUpdater5,k.$OzMpdUpdater14);e.onError(function(a){k.$OzMpdUpdater8.emitError(a),g.setError(a).log()});e=e.parse(a);a=k.$OzMpdUpdater2.isStaticMpd();k.$OzMpdUpdater2.updateWith(e);k.$OzMpdUpdater2.markRefreshed();e.isStaticMpd()&&!a&&k.emit("streamTransitionToStatic");e=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(k.$OzMpdUpdater2,k.$OzMpdUpdater6);a=e&&e.endTime!=0?e.endTime:null;g.setLiveheadPosition(a).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(k.$OzMpdUpdater2)).setManifestType(k.$OzMpdUpdater2.isStaticMpd()?"static":"dynamic").setIsTemplatedManifest(Boolean(k.$OzMpdUpdater2.getCustomField("isLiveTemplated"))).setPlaybackFbmsParam(f).log();k.$OzMpdUpdater9.notifyMpdUpdated();k.setupUpdateLoop()})["catch"](function(a){k.$OzMpdUpdater26();g.setError(a).log();if(k.$OzMpdUpdater6.getBool("handle_mpd_retries_outside_oz_mpd_updater")){var d;if(k.$OzMpdUpdater6.getBool("convert_dom_exception_to_oz_error"))if(a instanceof c("oz-player/utils/OzError"))d=a;else{var e=a.code!=null?String(a.code):null,f={originalError:a,url:b};e!==null&&(f.code=e);d=new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.name+"; "+a.message+"; "+a.description+";",extra:f})}else{d=a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:"Unknown mpd url load failure: "+b+("; errorMessage: "+a.message+"; errorDescription: "+((e=a.description)!=null?e:"")+";")})}k.$OzMpdUpdater24(d,b)}else k.$OzMpdUpdater23(a)})};var l=e.getMinimumUpdatePeriod();k.$OzMpdUpdater7=0;k.$OzMpdUpdater1=f;k.$OzMpdUpdater2=e;k.$OzMpdUpdater12=g;k.$OzMpdUpdater3=l;k.$OzMpdUpdater5=h.cloneContext().setType("manifest");k.$OzMpdUpdater6=b;k.$OzMpdUpdater13=i;k.$OzMpdUpdater14=j;k.$OzMpdUpdater2.addListener("locationUpdated",function(){k.$OzMpdUpdater20(),k.setupUpdateLoop()});k.$OzMpdUpdater9=new(c("oz-player/utils/OzStreamInterruptChecker"))(k.$OzMpdUpdater2,k.$OzMpdUpdater6);k.$OzMpdUpdater10.addSubscriptions(k.$OzMpdUpdater9.addListener("streamResumedAt",function(a){k.emit("streamResumedAt",a)}),k.$OzMpdUpdater9.addListener("streamInterruptAt",function(a){k.emit("streamInterruptAt",a)}));return k}var e=b.prototype;e.$OzMpdUpdater20=function(){c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater4=null,this.$OzMpdUpdater21(),this.$OzMpdUpdater19=!0};e.setupUpdateLoop=function(){var a=!this.$OzMpdUpdater11;a&&this.$OzMpdUpdater6.getBool("stop_manifest_update_when_static")&&(a=!this.$OzMpdUpdater2.isStaticMpd(),this.$OzMpdUpdater3=this.$OzMpdUpdater2.getMinimumUpdatePeriod());a&&this.$OzMpdUpdater3&&this.$OzMpdUpdater2.getLocation()&&(this.$OzMpdUpdater4=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater22,this.$OzMpdUpdater3*1e3))};e.onError=function(a){return this.$OzMpdUpdater8.onError(a)};e.$OzMpdUpdater23=function(a){if(this.$OzMpdUpdater6.getBool("live_gracefully_handle_mpd_errors")){var b;a instanceof c("oz-player/utils/OzError")&&(b=a.getExtra().code||"");var d=["404","503"];this.$OzMpdUpdater6.getBool("live_gracefully_handle_no_network")&&d.push("0");var e=this.$OzMpdUpdater6.getNumber("live_max_try_attempts_on_404"),f=!1;if(b&&d.indexOf(b)>-1)switch(b){case"410":this.$OzMpdUpdater11=!0;f=!0;break;case"404":this.$OzMpdUpdater7++;if(this.$OzMpdUpdater7>=e)break;case"503":case"0":f=!0;break}if(f){this.setupUpdateLoop();return}}this.$OzMpdUpdater8.emitError(a)};e.$OzMpdUpdater24=function(a,b){var c=this;b=!0;var d=this.$OzMpdUpdater16-1,e=a.getExtra().code;this.$OzMpdUpdater17!==e?(this.$OzMpdUpdater17=e,this.$OzMpdUpdater15=1):this.$OzMpdUpdater15++;var f=function(){b=!1};e={endStream:function(){f(),c.$OzMpdUpdater11=!0,c.$OzMpdUpdater6.getBool("live_gracefully_handle_410")&&c.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater15,error:a,isInitialRequest:!1,retry:function(a){f(),c.setupUpdateLoop()},retryAttemptCount:d};this.emit("manifestFetchError",e);b&&this.$OzMpdUpdater8.emitError(a)};e.$OzMpdUpdater27=function(a,b){a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_expid",b);return a.toString()};e.$OzMpdUpdater25=function(a){this.$OzMpdUpdater21();this.$OzMpdUpdater16++;var b=this.$OzMpdUpdater6.getString("cdn_experiment_id");a=b.length===0?a:this.$OzMpdUpdater27(a,b);b=this.$OzMpdUpdater1.requestRawUrl(a,{credentials:"same-origin"},{networkTimeoutMs:this.$OzMpdUpdater6.getNumber("mpd_updater_network_request_timeout_ms")},this.$OzMpdUpdater5);this.$OzMpdUpdater18=b;a=b.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};e.$OzMpdUpdater21=function(){this.$OzMpdUpdater18&&this.$OzMpdUpdater6.getBool("mpd_update_cancel_current_request_tracker")&&(this.$OzMpdUpdater18.cancel(),this.$OzMpdUpdater16=0),this.$OzMpdUpdater26()};e.$OzMpdUpdater26=function(){this.$OzMpdUpdater18=null};e.destroy=function(){this.$OzMpdUpdater4&&c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater4),this.$OzMpdUpdater10.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){function h(){return{$:{}}}function i(a){var b=h();for(var c=a.attributes,d=0;d<c.length;++d){var e=c[d];b.$[e.name]=e.value}for(var e=a.childNodes,c=0;c<e.length;++c){d=e[c];if(d instanceof Element){a=d.nodeName;Object.prototype.hasOwnProperty.call(b,a)||(b[a]=[]);b[a].push(i(d))}else{a=d.nodeValue.trim();a&&(b._=a)}}return b}a=function(){function a(){this.$1=new DOMParser()}var b=a.prototype;b.parse=function(a){try{var b=h(),d=this.$1.parseFromString(a,"application/xml"),e=d.querySelector("parsererror");if(e){e=e.innerHTML;var f=2e3;throw new(c("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:e+"; truncated xml ("+f+"/"+a.length+"): "+a.substring(0,f),extra:{}})}e=d.documentElement;e!=null&&(b[e.nodeName]=[i(e)]);return b}catch(b){if(b instanceof c("oz-player/utils/OzError"))throw b;else{f=2e3;throw new(c("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:b.message+"; truncated xml ("+f+"/"+a.length+"): "+a.substring(0,f)+"\n\n"+b.stack,extra:{originalError:b}})}}};return a}();g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("sax-1.2.4",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a){a.parser=function(a,b){return new c(a,b)};a.SAXParser=c;a.MAX_BUFFER_LENGTH=64*1024;var b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function c(b,d){if(!(this instanceof c))return new c(b,d);var f=this;e(f);f.q=f.c="";f.bufferCheckPosition=a.MAX_BUFFER_LENGTH;f.opt=d||{};f.opt.lowercase=f.opt.lowercase||f.opt.lowercasetags;f.looseCase=f.opt.lowercase?"toLowerCase":"toUpperCase";f.tags=[];f.closed=f.closedRoot=f.sawRoot=!1;f.tag=f.error=null;f.strict=!!b;f.noscript=!!(b||f.opt.noscript);f.state=u.BEGIN;f.strictEntities=f.opt.strictEntities;f.ENTITIES=f.strictEntities?Object.create(a.XML_ENTITIES):Object.create(a.ENTITIES);f.attribList=[];f.opt.xmlns&&(f.ns=Object.create(k));f.trackPosition=f.opt.position!==!1;f.trackPosition&&(f.position=f.line=f.column=0);w(f,"onready")}Object.create||(Object.create=function(a){function b(){}b.prototype=a;a=new b();return a});Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});function d(c){var d=Math.max(a.MAX_BUFFER_LENGTH,10),e=0;for(var f=0,g=b.length;f<g;f++){var h=c[b[f]].length;if(h>d)switch(b[f]){case"textNode":y(c);break;case"cdata":x(c,"oncdata",c.cdata);c.cdata="";break;case"script":x(c,"onscript",c.script);c.script="";break;default:A(c,"Max buffer length exceeded: "+b[f])}e=Math.max(e,h)}h=a.MAX_BUFFER_LENGTH-e;c.bufferCheckPosition=h+c.position}function e(a){for(var c=0,d=b.length;c<d;c++)a[b[c]]=""}function f(a){y(a),a.cdata!==""&&(x(a,"oncdata",a.cdata),a.cdata=""),a.script!==""&&(x(a,"onscript",a.script),a.script="")}c.prototype={end:function(){B(this)},write:L,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){f(this)}};var g="[CDATA[",h="DOCTYPE",i="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",k={xml:i,xmlns:j},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,n=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(a){return a===" "||a==="\n"||a==="\r"||a==="\t"}function q(a){return a==='"'||a==="'"}function r(a){return a===">"||p(a)}function s(a,b){return a.test(b)}function t(a,b){return!s(a,b)}var u=0;a.STATE={BEGIN:u++,BEGIN_WHITESPACE:u++,TEXT:u++,TEXT_ENTITY:u++,OPEN_WAKA:u++,SGML_DECL:u++,SGML_DECL_QUOTED:u++,DOCTYPE:u++,DOCTYPE_QUOTED:u++,DOCTYPE_DTD:u++,DOCTYPE_DTD_QUOTED:u++,COMMENT_STARTING:u++,COMMENT:u++,COMMENT_ENDING:u++,COMMENT_ENDED:u++,CDATA:u++,CDATA_ENDING:u++,CDATA_ENDING_2:u++,PROC_INST:u++,PROC_INST_BODY:u++,PROC_INST_ENDING:u++,OPEN_TAG:u++,OPEN_TAG_SLASH:u++,ATTRIB:u++,ATTRIB_NAME:u++,ATTRIB_NAME_SAW_WHITE:u++,ATTRIB_VALUE:u++,ATTRIB_VALUE_QUOTED:u++,ATTRIB_VALUE_CLOSED:u++,ATTRIB_VALUE_UNQUOTED:u++,ATTRIB_VALUE_ENTITY_Q:u++,ATTRIB_VALUE_ENTITY_U:u++,CLOSE_TAG:u++,CLOSE_TAG_SAW_WHITE:u++,SCRIPT:u++,SCRIPT_ENDING:u++};a.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.ENTITIES).forEach(function(b){var c=a.ENTITIES[b];c=typeof c==="number"?String.fromCharCode(c):c;a.ENTITIES[b]=c});for(var v in a.STATE)a.STATE[a.STATE[v]]=v;u=a.STATE;function w(a,b,c){a[b]&&a[b](c)}function x(a,b,c){a.textNode&&y(a),w(a,b,c)}function y(a){a.textNode=z(a.opt,a.textNode),a.textNode&&w(a,"ontext",a.textNode),a.textNode=""}function z(a,b){a.trim&&(b=b.trim());a.normalize&&(b=b.replace(/\s+/g," "));return b}function A(a,b){y(a);a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);b=new Error(b);a.error=b;w(a,"onerror",b);return a}function B(a){a.sawRoot&&!a.closedRoot&&C(a,"Unclosed root tag");a.state!==u.BEGIN&&a.state!==u.BEGIN_WHITESPACE&&a.state!==u.TEXT&&A(a,"Unexpected end");y(a);a.c="";a.closed=!0;w(a,"onend");c.call(a,a.strict,a.opt);return a}function C(a,b){if(typeof a!=="object"||!(a instanceof c))throw new Error("bad call to strictFail");a.strict&&A(a,b)}function D(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns);a.attribList.length=0;x(a,"onopentagstart",c)}function E(a,b){var c=a.indexOf(":");c=c<0?["",a]:a.split(":");var d=c[0];c=c[1];b&&a==="xmlns"&&(d="xmlns",c="");return{prefix:d,local:c}}function F(a){a.strict||(a.attribName=a.attribName[a.looseCase]());if(a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName)){a.attribName=a.attribValue="";return}if(a.opt.xmlns){var b=E(a.attribName,!0),c=b.prefix;b=b.local;if(c==="xmlns")if(b==="xml"&&a.attribValue!==i)C(a,"xml: prefix must be bound to "+i+"\nActual: "+a.attribValue);else if(b==="xmlns"&&a.attribValue!==j)C(a,"xmlns: prefix must be bound to "+j+"\nActual: "+a.attribValue);else{c=a.tag;var d=a.tags[a.tags.length-1]||a;c.ns===d.ns&&(c.ns=Object.create(d.ns));c.ns[b]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,x(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function G(a,b){if(a.opt.xmlns){var c=a.tag,d=E(a.tagName);c.prefix=d.prefix;c.local=d.local;c.uri=c.ns[d.prefix]||"";c.prefix&&!c.uri&&(C(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);d=a.tags[a.tags.length-1]||a;c.ns&&d.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){x(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var d=0,e=a.attribList.length;d<e;d++){var f=a.attribList[d],g=f[0];f=f[1];var h=E(g,!0),i=h.prefix;h=h.local;var j=i===""?"":c.ns[i]||"";f={name:g,value:f,prefix:i,local:h,uri:j};i&&i!=="xmlns"&&!j&&(C(a,"Unbound namespace prefix: "+JSON.stringify(i)),f.uri=i);a.tag.attributes[g]=f;x(a,"onattribute",f)}a.attribList.length=0}a.tag.isSelfClosing=!!b;a.sawRoot=!0;a.tags.push(a.tag);x(a,"onopentag",a.tag);b||(!a.noscript&&a.tagName.toLowerCase()==="script"?a.state=u.SCRIPT:a.state=u.TEXT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function H(a){if(!a.tagName){C(a,"Weird empty close tag.");a.textNode+="</>";a.state=u.TEXT;return}if(a.script){if(a.tagName!=="script"){a.script+="</"+a.tagName+">";a.tagName="";a.state=u.SCRIPT;return}x(a,"onscript",a.script);a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());var d=c;while(b--){var e=a.tags[b];if(e.name!==d)C(a,"Unexpected close tag");else break}if(b<0){C(a,"Unmatched closing tag: "+a.tagName);a.textNode+="</"+a.tagName+">";a.state=u.TEXT;return}a.tagName=c;e=a.tags.length;while(e-->b){var f=a.tag=a.tags.pop();a.tagName=a.tag.name;x(a,"onclosetag",a.tagName);d={};for(var g in f.ns)d[g]=f.ns[g];c=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==c.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];x(a,"onclosenamespace",{prefix:b,uri:c})})}b===0&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0;a.state=u.TEXT}function I(a){var b=a.entity,c=b.toLowerCase(),d,e="";if(a.ENTITIES[b])return a.ENTITIES[b];if(a.ENTITIES[c])return a.ENTITIES[c];b=c;b.charAt(0)==="#"&&(b.charAt(1)==="x"?(b=b.slice(2),d=parseInt(b,16),e=d.toString(16)):(b=b.slice(1),d=parseInt(b,10),e=d.toString(10)));b=b.replace(/^0+/,"");if(isNaN(d)||e.toLowerCase()!==b){C(a,"Invalid character entity");return"&"+a.entity+";"}return String.fromCodePoint(d)}function J(a,b){b==="<"?(a.state=u.OPEN_WAKA,a.startTagPosition=a.position):p(b)||(C(a,"Non-whitespace before first tag."),a.textNode=b,a.state=u.TEXT)}function K(a,b){var c="";b<a.length&&(c=a.charAt(b));return c}function L(a){var b=this;if(this.error)throw this.error;if(b.closed)return A(b,"Cannot write after close. Assign an onready handler.");if(a===null)return B(b);typeof a==="object"&&(a=a.toString());var c=0,e="";while(!0){e=K(a,c++);b.c=e;if(!e)break;b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);switch(b.state){case u.BEGIN:b.state=u.BEGIN_WHITESPACE;if(e==="\ufeff")continue;J(b,e);continue;case u.BEGIN_WHITESPACE:J(b,e);continue;case u.TEXT:if(b.sawRoot&&!b.closedRoot){var f=c-1;while(e&&e!=="<"&&e!=="&")e=K(a,c++),e&&b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}e==="<"&&!(b.sawRoot&&b.closedRoot&&!b.strict)?(b.state=u.OPEN_WAKA,b.startTagPosition=b.position):(!p(e)&&(!b.sawRoot||b.closedRoot)&&C(b,"Text data outside of root node."),e==="&"?b.state=u.TEXT_ENTITY:b.textNode+=e);continue;case u.SCRIPT:e==="<"?b.state=u.SCRIPT_ENDING:b.script+=e;continue;case u.SCRIPT_ENDING:e==="/"?b.state=u.CLOSE_TAG:(b.script+="<"+e,b.state=u.SCRIPT);continue;case u.OPEN_WAKA:if(e==="!")b.state=u.SGML_DECL,b.sgmlDecl="";else if(!p(e))if(s(l,e))b.state=u.OPEN_TAG,b.tagName=e;else if(e==="/")b.state=u.CLOSE_TAG,b.tagName="";else if(e==="?")b.state=u.PROC_INST,b.procInstName=b.procInstBody="";else{C(b,"Unencoded <");if(b.startTagPosition+1<b.position){f=b.position-b.startTagPosition;e=new Array(f).join(" ")+e}b.textNode+="<"+e;b.state=u.TEXT}continue;case u.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===g?(x(b,"onopencdata"),b.state=u.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=u.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===h?(b.state=u.DOCTYPE,(b.doctype||b.sawRoot)&&C(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):e===">"?(x(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=u.TEXT):q(e)?(b.state=u.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case u.SGML_DECL_QUOTED:e===b.q&&(b.state=u.SGML_DECL,b.q="");b.sgmlDecl+=e;continue;case u.DOCTYPE:e===">"?(b.state=u.TEXT,x(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,e==="["?b.state=u.DOCTYPE_DTD:q(e)&&(b.state=u.DOCTYPE_QUOTED,b.q=e));continue;case u.DOCTYPE_QUOTED:b.doctype+=e;e===b.q&&(b.q="",b.state=u.DOCTYPE);continue;case u.DOCTYPE_DTD:b.doctype+=e;e==="]"?b.state=u.DOCTYPE:q(e)&&(b.state=u.DOCTYPE_DTD_QUOTED,b.q=e);continue;case u.DOCTYPE_DTD_QUOTED:b.doctype+=e;e===b.q&&(b.state=u.DOCTYPE_DTD,b.q="");continue;case u.COMMENT:e==="-"?b.state=u.COMMENT_ENDING:b.comment+=e;continue;case u.COMMENT_ENDING:e==="-"?(b.state=u.COMMENT_ENDED,b.comment=z(b.opt,b.comment),b.comment&&x(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=u.COMMENT);continue;case u.COMMENT_ENDED:e!==">"?(C(b,"Malformed comment"),b.comment+="--"+e,b.state=u.COMMENT):b.state=u.TEXT;continue;case u.CDATA:e==="]"?b.state=u.CDATA_ENDING:b.cdata+=e;continue;case u.CDATA_ENDING:e==="]"?b.state=u.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=u.CDATA);continue;case u.CDATA_ENDING_2:e===">"?(b.cdata&&x(b,"oncdata",b.cdata),x(b,"onclosecdata"),b.cdata="",b.state=u.TEXT):e==="]"?b.cdata+="]":(b.cdata+="]]"+e,b.state=u.CDATA);continue;case u.PROC_INST:e==="?"?b.state=u.PROC_INST_ENDING:p(e)?b.state=u.PROC_INST_BODY:b.procInstName+=e;continue;case u.PROC_INST_BODY:if(!b.procInstBody&&p(e))continue;else e==="?"?b.state=u.PROC_INST_ENDING:b.procInstBody+=e;continue;case u.PROC_INST_ENDING:e===">"?(x(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=u.TEXT):(b.procInstBody+="?"+e,b.state=u.PROC_INST_BODY);continue;case u.OPEN_TAG:s(m,e)?b.tagName+=e:(D(b),e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:(p(e)||C(b,"Invalid character in tag name"),b.state=u.ATTRIB));continue;case u.OPEN_TAG_SLASH:e===">"?(G(b,!0),H(b)):(C(b,"Forward-slash in opening tag not followed by >"),b.state=u.ATTRIB);continue;case u.ATTRIB:if(p(e))continue;else e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME:e==="="?b.state=u.ATTRIB_VALUE:e===">"?(C(b,"Attribute without value"),b.attribValue=b.attribName,F(b),G(b)):p(e)?b.state=u.ATTRIB_NAME_SAW_WHITE:s(m,e)?b.attribName+=e:C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME_SAW_WHITE:if(e==="=")b.state=u.ATTRIB_VALUE;else if(p(e))continue;else C(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",x(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",e===">"?G(b):s(l,e)?(b.attribName=e,b.state=u.ATTRIB_NAME):(C(b,"Invalid attribute name"),b.state=u.ATTRIB);continue;case u.ATTRIB_VALUE:if(p(e))continue;else q(e)?(b.q=e,b.state=u.ATTRIB_VALUE_QUOTED):(C(b,"Unquoted attribute value"),b.state=u.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case u.ATTRIB_VALUE_QUOTED:if(e!==b.q){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}F(b);b.q="";b.state=u.ATTRIB_VALUE_CLOSED;continue;case u.ATTRIB_VALUE_CLOSED:p(e)?b.state=u.ATTRIB:e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(C(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_VALUE_UNQUOTED:if(!r(e)){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}F(b);e===">"?G(b):b.state=u.ATTRIB;continue;case u.CLOSE_TAG:if(!b.tagName)if(p(e))continue;else t(l,e)?b.script?(b.script+="</"+e,b.state=u.SCRIPT):C(b,"Invalid tagname in closing tag."):b.tagName=e;else e===">"?H(b):s(m,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=u.SCRIPT):(p(e)||C(b,"Invalid tagname in closing tag"),b.state=u.CLOSE_TAG_SAW_WHITE);continue;case u.CLOSE_TAG_SAW_WHITE:if(p(e))continue;e===">"?H(b):C(b,"Invalid characters in closing tag");continue;case u.TEXT_ENTITY:case u.ATTRIB_VALUE_ENTITY_Q:case u.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case u.TEXT_ENTITY:i=u.TEXT;j="textNode";break;case u.ATTRIB_VALUE_ENTITY_Q:i=u.ATTRIB_VALUE_QUOTED;j="attribValue";break;case u.ATTRIB_VALUE_ENTITY_U:i=u.ATTRIB_VALUE_UNQUOTED;j="attribValue";break}e===";"?(b[j]+=I(b),b.entity="",b.state=i):s(b.entity.length?o:n,e)?b.entity+=e:(C(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}b.position>=b.bufferCheckPosition&&d(b);return b}String.fromCodePoint||(function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c=16384,d=[],e,f,g=-1,h=arguments.length;if(!h)return"";var i="";while(++g<h){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?d.push(j):(j-=65536,e=(j>>10)+55296,f=j%1024+56320,d.push(e,f));(g+1===h||d.length>c)&&(i+=a.apply(null,d),d.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c})()})(typeof g==="undefined"?this.sax={}:g)}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("sax",["sax-1.2.4"],(function(a,b,c,d,e,f){e.exports=b("sax-1.2.4")()}),null);
__d("oz-player/shims/www/OzSaxWWW",["sax"],(function(a,b,c,d,e,f,g){g["default"]=c("sax")}),98);
__d("oz-player/shims/OzSax",["oz-player/shims/www/OzSaxWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzSaxWWW")}),98);
__d("oz-player/parsers/OzXmlParserImplSax",["oz-player/shims/OzSax","oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){function h(){return{$:{}}}a=function(){function a(){var a=this;this.$4=[];this.$5=function(a){throw a};this.$6=function(b){b=b.name;var d=h(),e=a.$3||a.$2;e||c("oz-player/shims/ozvariant")(0,219);Object.prototype.hasOwnProperty.call(e,b)||(e[b]=[]);e[b].push(d);a.$4.push(e);a.$3=d};this.$8=function(){var b=a.$4.pop();a.$3=b};this.$9=function(b){b=b;b=b.trim();if(!b)return;var d=a.$3;d||c("oz-player/shims/ozvariant")(0,220);d._&&c("oz-player/shims/ozvariant")(0,221);d._=b};this.$7=function(b){var d=b.name;b=b.value;var e=a.$3;e||c("oz-player/shims/ozvariant")(0,222);e.$[d]=b};var b=!0;b=this.$1=c("oz-player/shims/OzSax").parser(b);b.onerror=this.$5;b.onopentagstart=this.$6;b.onattribute=this.$7;b.onclosetag=this.$8;b.ontext=this.$9}var b=a.prototype;b.parse=function(a){var b=h();this.$2=b;try{this.$1.write(a).close()}catch(b){var d=2e3;throw new(c("oz-player/utils/OzError"))({type:"OZ_XML_PARSER",description:b.message+"; truncated xml ("+d+"/"+a.length+"): "+a.substring(0,d),extra:{originalError:b}})}this.$3=null;this.$2=null;this.$4=[];return b};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzClearSourceBufferOnSeekManager",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$3=new(c("oz-player/utils/OzErrorEmitter"))(),this.$4=new Map(),this.$5=!1,this.$6=!1,this.$7=!1,this.$8=null,this.$9=[],this.$10=null,this.$1=a,this.$2=b,this.$4=d}var b=a.prototype;b.$11=function(a){var b;this.$5=!0;return this.$2.getBool("clear_buffer_on_seek_into_unbuffered_range")?(b=this.$8)!=null?b:a.call(this.$1):a.call(this.$1)};b.$12=function(a,b){this.$6=!0,this.$2.getBool("clear_buffer_on_seek_into_unbuffered_range")?(this.$9.push({t:b}),this.$8=b,this.$9.length===1&&this.$13(a)):a.call(this.$1,b)};b.$14=function(a){this.$7=!0;return this.$2.getBool("clear_buffer_on_seek_into_unbuffered_range")?this.$8!=null?!0:a.call(this.$1):a.call(this.$1)};b.$15=function(a,b){var d=this,e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),f=[];this.$4.forEach(function(c,d){d=c.clearSourceBufferRange(a,b);f.push(d)});var g=c("oz-player/shims/OzMaybeNativePromise").all(f);g.then(function(){e.resolve()})["catch"](function(a){d.$2.getBool("throw_error_on_clear_buffer_on_seek_failed")?e.reject(a):e.resolve()});return e.getPromise()};b.$13=function(a){var b=this,d=this.$9.length>0?this.$9[0]:null,e=this.$2.getNumber("clear_buffer_on_seek_epsilon_s");if(d){var f=d.t;d=this.$1.buffered;var g=d.length,h=d.length<=0,i=-1,j=!1;for(var k=0;i<0&&k<g;++k)i=f-e>=d.start(k)&&f+e<d.end(k)?k:i,j=f<d.start(k)-e;k=i>-1;var l=this.$2.getNumber("clear_buffer_on_seek_nudge_s");k&&i>=0&&i<g&&l>0&&(f=Math.min(f,d.end(i)-l),f=Math.max(f,d.start(i)+l));if(h||k||!j)a.call(this.$1,f),this.$9.shift(),this.$13(a);else{i=this.$15(this.$2.getBool("throw_error_on_clear_buffer_on_seek_failed")?Math.max(f-e,0):f-e,d.end(g-1)+e);i.then(function(){a.call(b.$1,f),b.$9.shift(),b.$13(a)})["catch"](function(a){b.$3.emitError(a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a?a.name+": "+a.message:"Unknown error while clearing the buffer.",extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:a}}))})}}else this.$8=null};b.maybeOverwriteVideoCurrentTimeProperty=function(){var a=this;if(this.$2.getBool("overwrite_video_current_time_property")){var b,c,d=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"currentTime");d=(b=d)!=null?b:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");b=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"seeking");b=(c=b)!=null?c:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"seeking");var e=d&&typeof d.get==="function"?d.get:null,f=d&&typeof d.set==="function"?d.set:null,g=b&&typeof b.get==="function"?b.get:null;if(e&&f&&g&&Object.defineProperty){try{Object.defineProperty(this.$1,"currentTime",{get:function(){return a.$11(e)},set:function(b){a.$12(f,b)},configurable:!0,enumerable:!0});Object.defineProperty(this.$1,"seeking",{get:function(){return a.$14(g)},configurable:!0,enumerable:!0});c=this.$1.currentTime;this.$1.currentTime=c;this.$1.seeking}catch(a){}this.$16(function(){a.getCurrentTimePropertyOverwriteSuccess()&&Object.defineProperty(a.$1,"currentTime",{get:e,set:f,configurable:!0,enumerable:!0}),a.getSeekingPropertyOverwriteSuccess()&&Object.defineProperty(a.$1,"seeking",{get:g,configurable:!0,enumerable:!0})})}}};b.getCurrentTimePropertyOverwriteSuccess=function(){return this.$5&&this.$6};b.getSeekingPropertyOverwriteSuccess=function(){return this.$7};b.$16=function(a){this.$10=a};b.onError=function(a){return this.$3.onError(a)};b.destroy=function(){try{this.$10&&this.$10()}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzLiveLatencyManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$7=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$8=null;this.$10=!1;var d=a.config,e=a.mpd,f=a.playbackState,g=a.bufferingDetector,h=a.video;a=a.loggerProvider;this.$1=d;this.$2=e;this.$3=f;g!=null&&(this.$7.addSubscriptions(g.addListener("enterBuffering",function(a){a=="in_play"&&(b.$8=0);b.$10=!1;(a=b.$6)==null?void 0:a.log();b.$6=null})),this.$7.addSubscriptions(g.addListener("leaveBuffering",function(){b.$8==0&&(b.$8=Date.now()),b.$10=!1})));this.$4=h;this.$5=a;this.$1.getNumber("playback_speed_latency_adjustment_rate")>0&&this.$7.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$4,"timeupdate",c("oz-player/shims/ozThrottle")(function(){b.$11()},this.$1.getNumber("playhead_manager_timeupdate_throttle_ms"))),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$4,"seeked",function(){b.$10=!1}))}var b=a.prototype;b.enabled=function(){var a=this.$1.getNumber("catchup_timeout_after_buffering_sec");return a==0||this.$8==null||this.$8!=0&&this.$8+a*1e3<=Date.now()};b.isBehindPreferredLiveHeadLatency=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()-this.getPreferredLiveHeadLatencyToleranceSec()};b.$12=function(){return this.$2.getRefreshDate()==null&&this.$1.getBool("latencymanager_stalempd_edgelatency_sec_on")};b.getInitialPlayHeadPosition=function(){return this.$12()?this.getLiveHeadTimeSec()-this.$13(this.$1.getNumber("latencymanager_stalempd_edgelatency_sec")):this.getLiveHeadTimeSec()-this.getPreferredLiveHeadLatencySec()};b.getLiveHeadTimeSec=function(){var a=this.$14();return(a==null?void 0:(a=a.getEndingSegment())==null?void 0:a.getTimeRange().endTime)||0};b.$15=function(){return this.$8!=null&&this.$1.getBool("latencymanager_stalled_edgelatency_sec_on")};b.getPreferredLiveHeadLatencySec=function(){var a=this.$15()?this.$1.getNumber("latencymanager_stalled_edgelatency_sec"):this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec");return this.$13(a)};b.getPreferredLiveHeadLatencyToleranceSec=function(){return this.$1.getNumber("pdash_download_cursor_catchup_tolerance_sec")};b.shouldEnableManifestTimeRangeCatchup=function(){if(this.$1.getBool("pdash_download_cursor_s233348_gate"))return!this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec");var a=this.$2.getVideoRepresentations()[0];a=a&&a.canPredict();return a!==!0};b.shouldEnableCursorBasedCatchup=function(){var a=this.$2.getVideoRepresentations()[0];a=a&&a.canPredict();return a&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")>0};b.$16=function(a,b,c){var d=this.$1.getNumber("playback_speed_min_sharpness_factor");c=a*2/(1+Math.pow(Math.E,-(c-b)*d));return 1-a+c};b.$11=function(){var a=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1),b=a.bufferAheadSec;a=a.bufferedOffset;var c=this.$1.getNumber("playback_speed_min_buffer_sec");b>c&&(this.$10=!0);var e=this.$1.getNumber("playback_speed_latency_adjustment_rate");if(this.$4.playbackRate==0){var f;this.$9=null;(f=this.$6)==null?void 0:f.log();this.$6=null}else if(this.$10&&b<c&&e>0&&a===0){f=this.$16(e,c,b);!this.$1.getBool("playback_speed_latency_adjustment_user_rate_disable")&&this.$9==null&&(this.$9=this.$4.playbackRate);this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setUserInfo({newPlaybackRate:String(f),oldPlaybackRate:String(this.$4.playbackRate)}));this.$4.playbackRate=f}else{this.$1.getBool("playback_speed_latency_adjustment_user_rate_disable")?this.$4.playbackRate=1:this.$9!=null&&(this.$4.playbackRate=this.$9,this.$9=null);(a=this.$6)==null?void 0:a.log();this.$6=null}};b.$14=function(){var a=this.$2.getVideoRepresentations().concat(this.$2.getAudioRepresentations());return a.length===0?null:a.reduce(function(a,b){var c;return(((c=a.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)>(((c=b.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)?a:b})};b.$13=function(a){var b;if(a<=0)return a;var c=this.$14();b=c==null?void 0:(b=c.getEndingSegment())==null?void 0:b.getTimeRange();if(!b)return a;c=c==null?void 0:(c=c.getSegmentByTime((b==null?void 0:b.endTime)-a))==null?void 0:c.getTimeRange();return!c?a:(b==null?void 0:b.endTime)-(c==null?void 0:c.startTime)};b.destroy=function(){this.$7.release()};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=null;this.$5=0;this.$6=0;this.$7=!0;this.$8=0;this.$9=0;this.$10=!1;this.$12=0;this.$13=0;this.$15=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$17=function(){b.$10!=b.$14.isPlaying()&&(b.$14.isPlaying()&&(b.$11=Date.now()),b.$10=b.$14.isPlaying())};var d=a.video,e=a.config,f=a.mpd,g=a.liveheadFallBehindBlockThreshold,h=a.liveheadFallBehindBlockMargin,i=a.playbackState;a=a.perfLoggerProvider;this.$1=e;this.$2=d;this.$3=f;this.$8=g;this.$9=h;this.$14=i;this.$16=a;this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$17),this.$14.addEventListener("pause",this.$17))}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$3.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$4!=null&&this.$4.remove();this.$4=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$18(d)})};b.$18=function(a){var b;if(!this.$7)return;if(this.$5===a)return;this.$5=a;if(this.$2.currentTime<=this.$6)return;a=this.$1.getBool("catchup_use_timeline_range_end_time_as_end")?a:this.$2.duration;var c=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8,e=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$17();this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=e||this.$12!=c)&&(this.$13=e,this.$12=c,this.$11=Date.now());b=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((b=this.$11)!=null?b:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(b&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&e!==0&&c!==0&&a-this.$2.currentTime>c){b=[];for(var c=0;c<this.$2.buffered.length;c++)b.push({startTime:this.$2.buffered.start(c),endTime:this.$2.buffered.end(c)});c=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,b);this.$6=this.$2.currentTime+Math.min(c,e);b={startTime:this.$6,endTime:a-e};this.$1.getBool("log_extra_events")&&this.$16.getOperationLogger("latency_manager").setInitiator("time_range_manager").setReason("blocked_range").setLength(b.endTime-b.startTime).setUserInfo({blockedRangeStart:String(b.startTime),blockedRangeEnd:String(b.endTime)}).log();this.$3.blockTimeRange(b)}};b.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}f.computeSeekAhead=a}),66);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1.5;function a(a,b,d,e){b=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return new(c("oz-player/utils/OzNumericalRangeUtil"))({config:d}).findCurrentRangeIndex(a,b,e)===-1}function b(a,b,e,f,g){g===void 0&&(g=h);var i=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});e=new(c("oz-player/utils/OzNumericalRangeUtil"))({config:e}).findCurrentRangeIndex(a,i,f);if(e!==-1){i=b[e];return d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,i.endTime)&&i.endTime-a<g}return!1}g.isInGap=a;g.isNearGap=b}),98);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$6=!1,this.$7={},this.$1=a.perfLoggerProvider,this.$2=a.video}var b=a.prototype;b.markState=function(a,b){var c=this;if(this.$2.paused){this.$3=null;this.$4=null;this.$6=!1;this.$7={};return}(this.$3==null||this.$2.currentTime>this.$3)&&(this.$4=Date.now(),this.$3=this.$2.currentTime,this.$6=!1,this.$7={});this.$7[a]=this.$7[a]==null?1:this.$7[a]+1;var d=this.$4;if(!this.$6&&!this.$2.paused&&d!=null&&d+1e4<Date.now()){this.$6=!0;var e={};Object.keys(this.$7).forEach(function(a){e[a]=String(c.$7[a])});this.$1.getOperationLogger("playhead_adjustment").setError("not_advancing").setResult("failed").setLength(Date.now()-d).setUserInfo(babelHelpers["extends"]({},e,b,{lastCurrentTime:String(this.$3),lastCurrentTimeChanged:String(d-Date.now()),vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null})).setInitiator(a).log()}};return a}();a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPlayheadManager2=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager3=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayheadManager4=new Set();d.$OzPlayheadManager10=new Set();d.$OzPlayheadManager12=function(a){d.$OzPlayheadManager1.currentTime=a};d.$OzPlayheadManager14=!1;d.$OzPlayheadManager15=!1;d.$OzPlayheadManager16=!0;d.$OzPlayheadManager17=!1;var e=b.video,f=b.mpd,g=b.playheadCatchup,i=b.playbackState,j=b.config,k=b.perfLoggerProvider,l=b.seekHandler,m=b.initialPlaybackPosition,n=b.canSupportSkipVideobufferGaps,o=b.liveLatencyManager;b=b.dynamicVideoLibrary;d.$OzPlayheadManager1=e;d.$OzPlayheadManager6=j;d.$OzPlayheadManager7=i;d.$OzPlayheadManager8=f;d.$OzPlayheadManager9=g;d.$OzPlayheadManager11=k;l&&(d.$OzPlayheadManager12=l);d.$OzPlayheadManager17=n;d.$OzPlayheadManager19=o;d.$OzPlayheadManager13=m;d.$OzPlayheadManager20=b;d.$OzPlayheadManager6.getBool("log_extra_events")&&(d.$OzPlayheadManager18=new h({video:e,perfLoggerProvider:k}));d.$OzPlayheadManager2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"durationchange",function(){d.$OzPlayheadManager21("durationchange"),d.$OzPlayheadManager22("durationchange"),d.$OzPlayheadManager23("durationchange")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"pause",d.$OzPlayheadManager22.bind(babelHelpers.assertThisInitialized(d),"pause")),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"play",d.$OzPlayheadManager22.bind(babelHelpers.assertThisInitialized(d),"play")),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"playing",d.$OzPlayheadManager22.bind(babelHelpers.assertThisInitialized(d),"playing")),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"waiting",function(){d.$OzPlayheadManager22.bind(babelHelpers.assertThisInitialized(d),"waiting"),d.$OzPlayheadManager23("waiting")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"timeupdate",c("oz-player/shims/ozThrottle")(function(){d.$OzPlayheadManager6.getBool("playhead_manager_handle_timerange_update_on_timeupdate")&&d.$OzPlayheadManager22("timeupdate"),(d.$OzPlayheadManager6.getBool("playhead_manager_handle_buffered_timerange_update_on_timeupdate")||d.$OzPlayheadManager6.getBool("playhead_manager_buffered_timerange_update_on_timeupdate"))&&d.$OzPlayheadManager23("timeupdate")},d.$OzPlayheadManager6.getNumber("playhead_manager_timeupdate_throttle_ms"))),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(d.$OzPlayheadManager1,"ratechange",function(){d.$OzPlayheadManager1.playbackRate===0&&d.$OzPlayheadManager6.getBool("handle_buffered_timerange_update_on_ratechange")&&d.$OzPlayheadManager23("ratechange")}));return d}var e=b.prototype;e.observeSourceBufferState=function(a,b){var d=this;this.$OzPlayheadManager4.has(a)&&c("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager4.add(a);this.$OzPlayheadManager2.addSubscriptions(a.addEventListener("buffer_updated",function(){d.$OzPlayheadManager24(a,b),d.$OzPlayheadManager6.getBool("overwrite_video_current_time_property")&&d.$OzPlayheadManager6.getBool("clear_buffer_on_seek_into_unbuffered_range")?d.$OzPlayheadManager6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager17&&d.$OzPlayheadManager23("buffer_updated"):d.$OzPlayheadManager6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager23("buffer_updated")}))};e.$OzPlayheadManager24=function(a,b){var c=[];if(this.$OzPlayheadManager6.getBool("check_buffer_range_once_for_playhead_update")&&this.$OzPlayheadManager10.has(a))return;this.$OzPlayheadManager4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager10.add(a);a=this.$OzPlayheadManager6.getBool("seek_ahead_use_native_current_time")?this.$OzPlayheadManager1.currentTime:this.$OzPlayheadManager7.getCurrentTime();a=d("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(a,c);var e=this.$OzPlayheadManager6.getNumber("timeline_offset_threshold");a>0&&(e===0||a<e)&&this.$OzPlayheadManager25(this.$OzPlayheadManager1.currentTime+a,"first_available_buffer","source_buffer",b)};e.setTimeRangeProvider=function(a){this.$OzPlayheadManager3.release(),this.$OzPlayheadManager3.engage(),this.$OzPlayheadManager3.addSubscriptions(a.addUpdateListener(this.$OzPlayheadManager22.bind(this,"time_range_updated"))),this.$OzPlayheadManager5=a,this.$OzPlayheadManager22("time_range_set")};e.$OzPlayheadManager21=function(a){var b=this.$OzPlayheadManager1.duration;if(this.$OzPlayheadManager13!==0&&!this.$OzPlayheadManager15&&!isNaN(b)&&b!==Infinity){b=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:b+this.$OzPlayheadManager13;if(this.$OzPlayheadManager19!=null&&this.$OzPlayheadManager6.getBool("playhead_manager_initial_playback_position_lat_mgr")){var c;b=(c=this.$OzPlayheadManager19)==null?void 0:c.getInitialPlayHeadPosition()}this.$OzPlayheadManager15=!0;if(this.$OzPlayheadManager6.getBool("playhead_manager_clamp_initial_playback_position")){c=(c=this.$OzPlayheadManager5)==null?void 0:c.getTimeRanges();c!=null&&c.length>0&&c[0].startTime>b&&(b=c[0].startTime)}this.$OzPlayheadManager25(b,"initial_playback_position",a);this.emit("initialPlaybackPositionSet",b)}};e.$OzPlayheadManager22=function(a,b){b===void 0&&(b=null);if(this.$OzPlayheadManager19!=null?!this.$OzPlayheadManager19.shouldEnableManifestTimeRangeCatchup():!this.$OzPlayheadManager6.getBool("skip_timerange_gaps"))return;var e=this.$OzPlayheadManager9;if(e&&e.isEnabled(this.$OzPlayheadManager1,this.$OzPlayheadManager8)){e=e.computeNewPlayheadPosition(this.$OzPlayheadManager1,this.$OzPlayheadManager8);if(typeof e==="number"){this.$OzPlayheadManager25(e,"live_catch_up_strategy",a,b);return}}e=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack");if(e===0)return;var f=this.$OzPlayheadManager5;if(!f)return;var g=this.$OzPlayheadManager7.getCurrentTime(),h=f.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),i=new(c("oz-player/utils/OzNumericalRangeUtil"))({config:this.$OzPlayheadManager6}).findNextRangeIndex(g,h);if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(g,f.getTimeRanges(),this.$OzPlayheadManager6)||d("oz-player/utils/OzTimelineGapUtil").isInGap(g,f.getTimeRanges(),this.$OzPlayheadManager6))&&i!==-1){g=h[i];this.$OzPlayheadManager25(g.rangeStart+e,"jump_over_timeline_gap",a,b)}};e.$OzPlayheadManager23=function(a){var b;if(!this.$OzPlayheadManager6.getBool("skip_videobuffer_gaps"))return;if(this.$OzPlayheadManager6.getBool("overwrite_video_current_time_property")&&this.$OzPlayheadManager6.getBool("clear_buffer_on_seek_into_unbuffered_range")&&!this.$OzPlayheadManager17)return;var e=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(e===0)return;var f=this.$OzPlayheadManager7.getCurrentTime(),g=[];for(var h=0;h<this.$OzPlayheadManager1.buffered.length;h++)g.push({startTime:this.$OzPlayheadManager1.buffered.start(h),endTime:this.$OzPlayheadManager1.buffered.end(h)});h=g.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});var i=new(c("oz-player/utils/OzNumericalRangeUtil"))({config:this.$OzPlayheadManager6}).findNextRangeIndex(f,h),j=this.$OzPlayheadManager16?0:this.$OzPlayheadManager6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),k=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),l=this.$OzPlayheadManager6.getNumber("playhead_manager_buffered_numerical_error");b=(b=this.$OzPlayheadManager20)==null?void 0:b.getLastSegmentStartPTS();b=b!=null?b/1e3:null;if(b!=null&&b<f&&this.$OzPlayheadManager6.getBool("playhead_manager_buffer_gaps_skip_reverse")){var m=new(c("oz-player/utils/OzNumericalRangeUtil"))({config:this.$OzPlayheadManager6}).findCurrentRangeIndex(b,h);m=m>=0?h[m]:null;if(m!=null&&m.rangeStart<=b&&m.rangeEnd!=null&&m.rangeEnd>b){this.$OzPlayheadManager25(b,"reverse_jump_over_buffer_gap",a,null);return}}if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(f,g,this.$OzPlayheadManager6,l,k)||d("oz-player/utils/OzTimelineGapUtil").isInGap(f,g,this.$OzPlayheadManager6,l))&&i!==-1&&(j===0||h[i].rangeStart-f<j)){m=h[i];this.$OzPlayheadManager25(m.rangeStart+e,"jump_over_buffer_gap",a,null);return}this.$OzPlayheadManager18&&this.$OzPlayheadManager6.getBool("log_extra_events")&&this.$OzPlayheadManager18.markState(a,{nextBufferedRangeIndex:String(i),limitMaxGapSize:String(j),rangeStart:i!==-1?String(h[i].rangeStart):null,isNearGapThreshold:String(k),numericalError:String(l)})};e.setEnableLiveheadCatchup=function(a){this.$OzPlayheadManager16=a};e.destroy=function(){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.release(),this.$OzPlayheadManager4.clear()};e.$OzPlayheadManager25=function(a,b,c,d){if(this.$OzPlayheadManager6.getBool("skip_playhead_adjustment_before_initial_playback_position")&&(this.$OzPlayheadManager13!==0&&b!=="initial_playback_position"&&!this.$OzPlayheadManager14))return;var e=a-this.$OzPlayheadManager1.currentTime,f=this.$OzPlayheadManager6.getNumber("seek_ahead_epsilon");if(f>0&&(this.$OzPlayheadManager6.getBool("playhead_manager_buffer_gaps_skip_reverse")?Math.abs(e):e)<=f)return;this.$OzPlayheadManager11.getOperationLogger("playhead_adjustment").setLength(Math.round(e*1e3)).setReason(b).setInitiator(c).setType(d).log();this.$OzPlayheadManager12(a);b==="initial_playback_position"&&(this.$OzPlayheadManager14=!0)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/playback_controls/OzPlayheadNudger",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$3=null;var b=a.video,d=a.config;a=a.perfLoggerProvider;this.$1=b;this.$4=d;this.$5=a;this.$2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"timeupdate",this.$6.bind(this)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",this.$7.bind(this)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",this.$8.bind(this)))}var b=a.prototype;b.$6=function(){var a=this.$4.getNumber("playhead_nudge_slack");if(a===0)return;var b=this.$3;b!=null&&!this.$1.paused&&this.$1.readyState===4&&(this.$1.currentTime===b&&(this.$1.currentTime+=a,this.$4.getBool("log_extra_events")&&this.$5.getOperationLogger("playhead_adjustment").setInitiator("nudger").setLength(a).log()),this.$3=null)};b.$7=function(){this.$3=this.$1.currentTime};b.$8=function(){this.$3=null};b.destroy=function(){this.$2.release()};return a}();g["default"]=a}),98);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(){function a(a,b,e){var f=this;e===void 0&&(e=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=function(){f.$5.getOperationLogger("pause").setState("paused").log()};this.$8=function(){f.$6(),f.$5.getOperationLogger("playing").setState("playing").log()};this.$6=function(){f.$3=f.$2.currentTime};this.$1=a.getBool("always_use_current_time_in_playback_state");this.$2=b;this.$5=e;this.$3=this.$2.currentTime;this.$4.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"seeked",this.$6),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"seeking",this.$6),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"timeupdate",c("oz-player/shims/ozThrottle")(this.$6,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"pause",this.$7),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"playing",this.$8))}var b=a.prototype;b.isPlaying=function(){return!this.$2.paused};b.getCurrentTime=function(){return this.$1?this.$2.currentTime:this.$3};b.forceUpdateCurrentTime=function(){this.$6()};b.getDuration=function(){return this.$2.duration};b.addEventListener=function(a,b){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,a,b)};b.destroy=function(){this.$4.release()};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b.filter(function(a){a=a.position;if(a==null)return!1;var b=a.y-window.scrollY;return b>=0||(a.height+b)/a.height>c}).sort(function(a,b){return a.position==null||b.position==null?0:a.position.y-b.position.y});return b.findIndex(function(b){return b.video===a})}f.determinePositionIndexOfVideoFromViewportVertically=a}),66);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=.5;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzPositionToViewportTracker1=[];c.$OzPositionToViewportTracker5=function(a){a.forEach(function(a){var b=c.$OzPositionToViewportTracker1.find(function(b){return a.target===b.video});b!=null&&(a.isIntersecting?b.position=c.$OzPositionToViewportTracker7(a):c.$OzPositionToViewportTracker1.map(function(b){a.target===b.video&&(b.position=null)}));c.$OzPositionToViewportTracker1.forEach(function(a){a.positionIndexToViewportVertically=c.$OzPositionToViewportTracker6(a.video)})}),c.emit("state_changed")};c.$OzPositionToViewportTracker2=b;return c}var c=b.prototype;c.$OzPositionToViewportTracker4=function(){if(this.$OzPositionToViewportTracker3!=null)return;this.$OzPositionToViewportTracker3=new IntersectionObserver(this.$OzPositionToViewportTracker5,{rootMargin:this.$OzPositionToViewportTracker2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0})};c.registerVideo=function(a){this.$OzPositionToViewportTracker1.push({video:a,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker4(),this.$OzPositionToViewportTracker3!=null&&this.$OzPositionToViewportTracker3.observe(a)};c.getPositionIndexOfVideoFromViewportVertically=function(a){var b=this.$OzPositionToViewportTracker1.find(function(b){return b.video===a});return b!=null?b.positionIndexToViewportVertically:-1};c.$OzPositionToViewportTracker6=function(a){return d("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(a,this.$OzPositionToViewportTracker1,i)};c.$OzPositionToViewportTracker7=function(a){a=a.boundingClientRect;return{x:a.x+window.scrollX,y:a.y+window.scrollY,width:a.width,height:a.height}};b.getInstance=function(a){h==null&&(h=new b(a));return h};c.unregisterVideo=function(a){var b=this,c=[];this.$OzPositionToViewportTracker1.forEach(function(d){d.video===a&&b.$OzPositionToViewportTracker3!=null?b.$OzPositionToViewportTracker3.unobserve(a):c.push(d)});this.$OzPositionToViewportTracker1=c;this.$OzPositionToViewportTracker1.length===0&&this.$OzPositionToViewportTracker3!=null&&(this.$OzPositionToViewportTracker3.disconnect(),this.$OzPositionToViewportTracker3=null)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewport1=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewport3=b;e.$OzPositionToViewport2=c("oz-player/states/OzPositionToViewportTracker").getInstance(d);e.$OzPositionToViewport2.registerVideo(b);e.$OzPositionToViewport1.addSubscriptions(e.$OzPositionToViewport2.addListener("state_changed",function(){e.emit("state_changed")}));return e}var d=b.prototype;d.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport3!=null?this.$OzPositionToViewport2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport3):-1};d.destroy=function(){this.$OzPositionToViewport3!=null&&this.$OzPositionToViewport2.unregisterVideo(this.$OzPositionToViewport3),this.$OzPositionToViewport3=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";var g=.8;function a(a,b,c,d,e,f,i,j){c=Math.min(1,c/d);d=1+(1-c)*e;c=a.getBandwidth()*d;if(c>b)return g*(b/c);e=0;if(f!=null&&i!=null&&j>0){d=h(a,b,f,i);d!=null&&d>0&&(e=d/1e3*j)}return 1-(1-g)*c/b-e}function h(a,b,c,d){var e=a.getBandwidth();a=a.getSegment(0);if(a){a=a.getTimeRange();a=(a.endTime-a.startTime)*c;c=a*e/b*1e3+d;return c-a*1e3}}f.getPlaybackConfidence=a;f.getEstimatedDownloadTimeBufferDeltaMs=h}),66);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=a,this.$5=b,this.$6=this.$14(b,c),this.$7=d,this.$8=e,this.$11=f,this.$12=g,this.$13=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$9=a};b.$14=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index"),d=this.$1.getNumber("abr_restrict_to_index");if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};b.$15=function(a){a=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(this.$1,a,this.$12(),this.$11);a=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$7,this.$12(),a);return a};b.getBestRepresentation=function(a){a=(a=a==null?void 0:a.length)!=null?a:null;var b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$9,this.$8),e=d("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,b,c("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(e!==null&&e!==void 0){this.$10=e;return this.$5}e=Date.now();this.$2=e;var f=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),g=this.$15(this.$6),h=null;this.$1.getBool("abr_use_download_time")&&a!=null?h=this.$16(g,f,a)||this.$17(g,f,b,a):h=this.$17(g,f,b,a);f=g[0];h=h||f;if(this.$18(b,h)){this.$10="high_buffer";return this.$5}this.$5!==h&&(this.$4=!0,this.$3=e,this.$5=h);this.$10="bandwidth";return h};b.$17=function(a,b,e,f){f===void 0&&(f=null);var g=null;for(var h=0;h<a.length;h++){var i=d("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[h],b,e,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),f,c("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig()),this.$1.getNumber("download_time_buffer_delta_penalty_factor"));i>this.$1.getNumber("abr_confidence_threshold")&&(!g||g.getBandwidth()<a[h].getBandwidth())&&(g=a[h])}return g};b.$16=function(a,b,e){for(var f=a.length-1;f>=0;f--){var g=d("oz-player/strategies/OzPlaybackConfidenceUtils").getEstimatedDownloadTimeBufferDeltaMs(a[f],b,e,c("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1.getLegacyConfig())||0);if(g!=null&&g+this.$1.getNumber("minimum_download_additional_buffer_ms")<0)return a[f]}return null};b.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};b.getLastEvaluationReason=function(){return this.$10};b.updateRepresentations=function(a){var b=this;this.$6=a;a=this.$6.find(function(a){return a.getQualityLabel()===b.$5.getQualityLabel()});this.$5=(a=a)!=null?a:this.$6[0]};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzAudioIBRManager",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getInitialAudioRepresentation=function(a){var b=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig());a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var d=this.$1.getNumber("live_audio_ibr_bandwidth_percentage");d=b*d;for(var e=a.length-1;e>=0;e--)if(a[e].getBandwidth()<=d){this.$2.getOperationLogger("audio_ibr_success").setRepresentationID(a[e].getID()).setReason(b.toString()).log();return a[e]}this.$2.getOperationLogger("audio_ibr_no_op").setReason(b.toString()).log();return null};return a}();g["default"]=a}),98);
__d("oz-player/strategies/getSegmentsCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=0,f=a.getTimeRange().startTime;a=a;var g=a.getTimeRange().startTime;while(a!==null&&g<c+f){var h=g;e++;a=b.getSegmentAfter(a);if(a)g=a.getTimeRange().startTime;else break;if(g<=h)return d}return Math.max(e,1)}f["default"]=a}),66);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getSegmentsCount=function(a,b,d){a=this.$1.getNumber("seconds_to_stream");var e=this.$1.getNumber("segments_to_stream");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(a)}var b=a.prototype;b.isActive=function(a){return!0};b.getSegmentsCount=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),f=c("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),h=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g});h=h?this.$4(a,b,d):this.$3.getSegmentsCount(a,b,d);a=this.$5(b,e);return Math.min(h,a)};b.$4=function(a,b,d){a=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary");var e=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};b.$5=function(a,b){var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!==null&&d!==void 0){var e=this.$1.getNumber("per_stream_duration_target");d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=1e3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzBufferAheadPriorityStrategy3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzBufferAheadPriorityStrategy5=function(){e.emit("state_changed")};e.$OzBufferAheadPriorityStrategy4=b;e.$OzBufferAheadPriorityStrategy1=d;e.$OzBufferAheadPriorityStrategy3.addSubscriptions(e.$OzBufferAheadPriorityStrategy1.addEventListener("progress",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy5,i)),e.$OzBufferAheadPriorityStrategy1.addEventListener("timeupdate",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy5,i)));return e}var e=b.prototype;e.getName=function(){return"buffer_ahead"};e.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy2)return;this.$OzBufferAheadPriorityStrategy4.getBool("fix_buffer_ahead_priority_strategy")&&(this.$OzBufferAheadPriorityStrategy2=a);this.$OzBufferAheadPriorityStrategy3.addSubscriptions(a.addEventListener("buffer_updated",c("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy5,i)))};e.isActive=function(){return!0};e.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy1.getCurrentTime();a=a.getBufferedRanges();b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(b,a);return b>=h?0:1};e.destroy=function(){this.$OzBufferAheadPriorityStrategy3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=0,this.$2=a,this.$3=b}var b=a.prototype;b.computeBufferTarget=function(){var a=this.$1;for(var b=this.$2,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.isActive()){a=e.getBufferTarget();break}}for(var e=this.$3,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;b=e[c++]}else{c=e.next();if(c.done)break;b=c.value}b=b;a=b.adjustBufferTargetInSeconds(a)}this.$1=a;return a};b.handleEvent=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.handleEvent(a)}};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=1,this.$1=a}var b=a.prototype;b.adjustBufferTargetInSeconds=function(a){a=a;this.$1.getBool("append_retry_quota_exceeded_error")&&(a=Math.max(this.$1.getNumber("buffer_target_constraint_minimum_sec"),a*this.$2));return a};b.handleEvent=function(a){var b=this.$2;switch(a){case"append_succeeded":b=Math.max(0,Math.min(1,b+this.$1.getNumber("buffer_target_constraint_append_succeeded_reward")));break;case"append_quota_exceeded":b=Math.max(0,Math.min(1,b-this.$1.getNumber("buffer_target_constraint_quota_exceeded_penalty")));break;default:a}this.$2=b};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzLiveheadDeltaCatchupStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isEnabled=function(a,b){return(!this.$1.getBool("live_catch_up_only_when_paused")||a.paused)&&typeof b.getMinimumUpdatePeriod()==="number"};b.computeNewPlayheadPosition=function(a,b){a=a.currentTime;b=b.getVideoRepresentations()[0];if(!b)return null;b=b.getTimeRanges();if(b.length===0)return null;b=b[b.length-1].endTime;return b-a>this.$1.getNumber("live_catch_up_fall_behind_threshold")?b-this.$1.getNumber("live_catch_up_live_head_delta"):null};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPlayheadAtInterruptionDetector2=null;e.$OzPlayheadAtInterruptionDetector3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadAtInterruptionDetector4=null;e.$OzPlayheadAtInterruptionDetector1=b;b=d?d.addListener("enterBuffering",e.$OzPlayheadAtInterruptionDetector5.bind(babelHelpers.assertThisInitialized(e))):c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadAtInterruptionDetector1,"waiting",e.$OzPlayheadAtInterruptionDetector5.bind(babelHelpers.assertThisInitialized(e)));e.$OzPlayheadAtInterruptionDetector3.addSubscriptions(b);e.$OzPlayheadAtInterruptionDetector4=d;return e}var d=b.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector2=a,this.$OzPlayheadAtInterruptionDetector5()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector2=null};d.$OzPlayheadAtInterruptionDetector5=function(){if(this.$OzPlayheadAtInterruptionDetector2!=null){var a=this.$OzPlayheadAtInterruptionDetector2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector3.release(),this.$OzPlayheadAtInterruptionDetector4=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy1=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy2=b;d.$OzPlayingStatePriorityStrategy1.addSubscriptions(d.$OzPlayingStatePriorityStrategy2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("play",d.$OzPlayingStatePriorityStrategy3),d.$OzPlayingStatePriorityStrategy2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy3));return d}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy1.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewportPriorityStrategy3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewportPriorityStrategy4=function(){e.emit("state_changed")};e.$OzPositionToViewportPriorityStrategy2=b;e.$OzPositionToViewportPriorityStrategy1=d;e.$OzPositionToViewportPriorityStrategy3.addSubscriptions(b.addListener("state_changed",e.$OzPositionToViewportPriorityStrategy4));return e}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"position_to_viewport"};d.setSourceBufferState=function(a){};d.getPriority=function(){var a=this.$OzPositionToViewportPriorityStrategy1.getNumber("prioritize_by_viewport_static_penalty"),b=this.$OzPositionToViewportPriorityStrategy2.getPositionIndexOfVideoFromViewportVertically();return a>0?b===-1?a*-1:0:b===-1?-Infinity:-1*b};d.destroy=function(){this.$OzPositionToViewportPriorityStrategy3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPriorityCalculator2=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator1=b;(b=d.$OzPriorityCalculator2).addSubscriptions.apply(b,d.$OzPriorityCalculator1.map(function(a){return a.addListener("state_changed",function(b){d.emit("state_changed",d.compute(),a.getName())})}));return d}var d=b.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){var a=this.$OzPriorityCalculator1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0);return Math.max(a,0)};d.destroy=function(){this.$OzPriorityCalculator2.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzStaleManifestBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.$2=a}var b=a.prototype;b.isActive=function(){return this.$2.getRefreshDate()==null&&this.$1.getNumber("stale_mpd_buffer_ahead_target")>0};b.getBufferTarget=function(){return this.$1.getNumber("stale_mpd_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a,b){return a.filter(function(a){a=MediaSource.isTypeSupported(a.getMimeCodecs());return!!a})};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzEndOfStreamWatcher1=new Map();e.$OzEndOfStreamWatcher2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzEndOfStreamWatcher3=b;e.$OzEndOfStreamWatcher4=d;return e}var d=b.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher1.has(a)&&c("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher1.set(a,!1)};d.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher5()};d.notifyMediaStreamEnded=function(a){this.$OzEndOfStreamWatcher1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher1.set(a,!0),this.$OzEndOfStreamWatcher5()};d.$OzEndOfStreamWatcher5=function(){var a=this,b=this.$OzEndOfStreamWatcher3.getMediaSource();(this.$OzEndOfStreamWatcher4.getBool("allow_queueing_end_of_stream_when_update")||b.readyState==="open")&&this.$OzEndOfStreamWatcher6()&&(this.$OzEndOfStreamWatcher4.getBool("delay_stream_end_for_sourceended")?this.$OzEndOfStreamWatcher3.notifyEndOfStream().then(function(){a.emit("streamEnd")})["catch"](function(){a.emit("streamEnd")}):(this.$OzEndOfStreamWatcher3.notifyEndOfStream(),this.emit("streamEnd")))};d.$OzEndOfStreamWatcher6=function(){if(this.$OzEndOfStreamWatcher1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};d.destroy=function(){this.$OzEndOfStreamWatcher1.clear()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){var g=this;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=null;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$3=b;this.$4=d;this.$7=e;f.then(function(a){g.$5=a});this.$6.addSubscriptions(e.addListener("switchRepresentation",this.$8.bind(this)))}var b=a.prototype;b.cleanup=function(){this.$6.release(),this.$6.engage()};b.onError=function(a){return this.$2.onError(a)};b.$8=function(a,b){var d=this;if(a!=="user")return;a=this.$5;if(a==null)return;var e=this.$7.getRepresentationIDAtTime(this.$3.getCurrentTime()),f;for(var g=0;g<this.$4.length;g++)this.$4[g].getID()===e&&(f=this.$4[g]);if(f&&b&&(this.$1.getBool("enable_immediate_down_switch")||f.getBandwidth()<b.getBandwidth())){e=f.getSegmentByTime(this.$3.getCurrentTime());e&&(this.$1.getBool("async_clear_on_quality_upgrade")?a.clearRangeWithWait(this.$3.getCurrentTime(),this.$3.getDuration())["catch"](function(a){d.$2.emitError(a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:"failed to clear range: "+a.name+"; "+a.message+"; "+a.description+";",extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:a}}))}):a.clearRange(this.$3.getCurrentTime(),this.$3.getDuration()))}};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader1=[];c.$OzReadableStreamDataReader2=b;return c}var d=b.prototype;d.onDataWritten=function(a){this.$OzReadableStreamDataReader1.push(a)};d.onClose=function(){var a=this.$OzReadableStreamDataReader1,b=c("oz-player/utils/ozConcatUint8Arrays")(a);b=b.buffer;a.length=0;this.$OzReadableStreamDataReader2(b)};return b}(c("oz-player/networks/OzTransformStream"));g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTask",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$9=null,this.$1=this.$2=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$6=c("oz-player/shims/OzPerformance").now(),this.$7=b,this.$8=a,this.$9=d}var e=a.prototype;e.run=function(){var a=this.$3.getPromise(),b=this.$7;if(b){var e=c("oz-player/shims/OzPerformance").now()-this.$6;d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,b,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(e))})["catch"](function(){})}this.$2.resolve();return a};e.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(new(c("oz-player/utils/OzError"))({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0};e.finish=function(){this.$3.resolve()};e.isCancelled=function(){return this.$5};e.addStream=function(a,d,e){var f=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$10({pausableStreamPromise:b("Promise").resolve({pausableStream:a,loggingPayloads:e}),changeStatusDeferred:f,createStreamDeferred:new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),loggerProviderWithStreamContext:d,loggingPayloads:e});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return f.getPromise()}}};e.addStreamDeferred=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$10({pausableStreamPromise:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:b});b=function(){return e.getPromise()};return{genStream:b,cancel:function(){a&&a.then(function(a){a=a.pausableStream;return a.pauseStream()})},getStatusChangePromise:function(){return d.getPromise()}}};e.$10=function(a){var b=this,e=a.pausableStreamPromise,f=a.changeStatusDeferred,g=a.createStreamDeferred,h=a.loggerProviderWithStreamContext,i=a.loggingPayloads;a=this.$1.getPromise();var j=c("oz-player/shims/OzPerformance").now(),k=this.$1=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return e}).then(function(a){if(a){var e=a.pausableStream;a.loggingPayloads&&(i=a.loggingPayloads);g.resolve(e.getStream());b.$4=e;var f=c("oz-player/shims/OzPerformance").now();a=b.$11(e.startStream());h&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,h,"fetch_stream",function(){},function(a){if(i){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,i.getRequestUrl(),i.isPrefetch(),i.segments,f-j,e.getBytesStreamed(),i.getResponse());var c=b.$9;c&&c(a,i.getRequestUrl(),i.getResponse())}});return a}return null}).then(function(a){b.$4=null,k.resolve(),f.resolve(a||"cancelled")})["catch"](function(a){b.$4=null,b.$3.reject(a),b.$8.getBool("streaming_task_reject_current_stream_deferred")&&k.reject(a),f.reject(a)})};e.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$10=null;var e=a.mimeType,f=a.priorityCalculator,g=a.loggerProvider,h=a.setCustomFetchStreamLoggingAttributes;a=a.config;this.$5=e;this.$1=f;this.$6=d("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=g;this.$8=a;this.$10=h;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,c){b.$11(a,c),b.$2&&b.$6.updatePriority(b.$2,b.$4)}))}var e=a.prototype;e.startStream=function(a){var b=a.streamableSegments,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$12(a),e=this.$13();c=c.createPausableStream(b,e,a);b=c.pausableStream;e=c.loggingPayloads;this.$9=!0;c=d.addStream(b,a,e);d={getStream:c.getStream,cancel:c.cancel,getStatusChangePromise:this.$14(c.getStatusChangePromise)};return d};e.$13=function(){var a=[];a.push(c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5));return a};e.startStreamDeferred=function(a){var b=a.segmentsPromise,d=a.networkManager,e=a.segmentsLoggerProvider;a=this.$12(e);var f=this.$13(),g=new(c("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b.then(function(b){b.length>0?a(d.createPausableStream(b,f,e)):a(null)})["catch"](function(a){return c(a)})});this.$9=!0;a=a.addStreamDeferred(g,e);g={genStream:a.genStream,cancel:a.cancel,getStatusChangePromise:this.$14(a.getStatusChangePromise)};return g};e.$12=function(a){var b=this.$2;this.$11(this.$1.compute(),"start_stream");!b||b.isCancelled()?(b=this.$2=new(c("oz-player/networks/OzStreamingTask"))(this.$8,a,this.$10),this.$6.enqueue(b,this.$4)["catch"](function(){})):this.$6.updatePriority(b,this.$4);return b};e.$14=function(a){var c=this;return function(){return a().then(function(a){c.$15();return a})["catch"](function(a){c.$15();return b("Promise").reject(a)})}};e.finishTaskIfNoOngoingStream=function(){this.$9||this.$16()};e.destroy=function(){this.$3.release();var a=this.$2;this.$2=null;a&&this.$6.remove(a)};e.$15=function(){this.$9=!1,this.$11(this.$1.compute(),"end_stream"),this.$4<d("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$16()};e.$16=function(){this.$2&&(this.$2.finish(),this.$2=null)};e.$11=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){b=b;e=e;var f=a.getNumber("segments_to_stream_under_playhead_threshold");a=a.getNumber("low_segment_stream_playhead_threshold");f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(var a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}f.getStreamingSegments=a}),66);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$2=null;this.$3=!1;this.$6=function(){var a;d.$7();if(d.$3)return;(a=d.$5)==null?void 0:a.start();a=d.$1.execute();var b=d.$1.getLoopInterval();b&&(d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$6()},b));a&&a.then(d.$6)["catch"](function(b){d.$7();var a=d.$1.handleError(b);if(a)d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(d.$6,a);else{(a=d.$5)==null?void 0:a.setError(b);(a=d.$5)==null?void 0:a.log();d.$5=null;d.$3=!0}})};this.$1=a;this.$4=b}var b=a.prototype;b.start=function(){if(this.$3)throw new Error("restart is not implemented");this.$5=this.$4.getOperationLogger("media_stream").start();this.$6()};b.stop=function(){var a;this.$7();this.$3=!0;(a=this.$5)==null?void 0:a.log();this.$5=null};b.$7=function(){this.$2&&(c("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}f.getRangeForTime=a}),66);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getEndingSegment();return a!=null&&a.getSequenceNumber()!=null?a.getSequenceNumber():0}var h=function(a,b){a=a.getCurrentTime();a=b?d("oz-player/utils/OzRangeUtils").getRangeForTime(a,b.getBufferedRanges()):null;return a},i=function(a,b,c){b=h(a,b);c=c?c.getTimeRange().endTime:0;a=a.getCurrentTime()||0;c?a=c:b&&(a=b.endTime);return a};b=function(a,b,d,e,f,g,j,k){var l=a.getPredictedSegmentAfter(g);if(l&&b.isPlaying())return l;l=h(b,e);if(j.getBool("use_stream_end_time_in_segment_locator")&&l&&l.endTime===k)return null;l=i(b,e,g);k=f.getTimeRanges();e=new(c("oz-player/utils/OzNumericalRangeUtil"))({config:j}).findDiffCoveredByRanges(b.getCurrentTime(),l,k.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(e>d)return null;g=a.getSegment(0);(j.getNumber("auto_seek_playhead_slack")===0||j.getBool("fix_initial_segment_non_zero_start_time"))&&g&&g.getTimeRange().startTime>l&&(l=g.getTimeRange().startTime);return a.getSegmentByTime(l)};g.getEndingSequenceNumber=a;g.getTimeToQuery=i;g.getSegment=b}),98);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){a=a;var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzMediaStream",["oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/utils/OzBufferingUtils","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/OzRangeUtils","oz-player/utils/OzTaggedTimeRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=.2;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$OzMediaStream2=0;e.$OzMediaStream3=0;e.$OzMediaStream4=null;e.$OzMediaStream12=null;e.$OzMediaStream14=!1;e.$OzMediaStream15=null;e.$OzMediaStream16=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzMediaStream18=[];e.$OzMediaStream22=0;e.$OzMediaStream29=!0;e.$OzMediaStream31=!1;e.$OzMediaStream32=null;e.$OzMediaStream33=new(c("oz-player/utils/OzErrorEmitter"))();e.$OzMediaStream35=!0;e.$OzMediaStream38=0;e.$OzMediaStream39=null;var f=b.config,g=b.sourceBufferManagerPromise,h=b.prependedSegmentsCount,i=b.networkManager,j=b.playbackState,k=b.endOfStreamWatcher,l=b.bufferTargetCalculator,m=b.priorityCalculator,n=b.streamSegmentsCountCalculator,o=b.abrManager,p=b.loadedRepresentationId,q=b.representation,r=b.loggerProvider,s=b.segmentLocator;b=b.setCustomFetchStreamLoggingAttributes;e.$OzMediaStream1=f;e.$OzMediaStream5=g;e.$OzMediaStream5.then(function(a){e.$OzMediaStream6=a,e.$OzMediaStream15&&e.$OzMediaStream15.setSourceBuffer(a),e.$OzMediaStream27.setSourceBufferState(a.getSourceBufferState()),e.$OzMediaStream40()});e.$OzMediaStream20=h;e.$OzMediaStream11=i;e.$OzMediaStream7=j;e.$OzMediaStream13=k;e.$OzMediaStream13.registerMediaStream(babelHelpers.assertThisInitialized(e));e.$OzMediaStream26=l;e.$OzMediaStream27=m;e.$OzMediaStream28=n;e.$OzMediaStream15=o;e.$OzMediaStream17=r.cloneContext();e.$OzMediaStream36=s;e.$OzMediaStream25=new(c("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});e.$OzMediaStream39=b;e.$OzMediaStream16.addSubscriptions(e.$OzMediaStream7.addEventListener("seeking",function(){var a=j.getCurrentTime();e.$OzMediaStream1.getBool("fix_seek_performance")?e.restartLoopBody():e.$OzMediaStream1.getBool("ignore_reset_after_seek_if_bufferahead")&&e.$OzMediaStream8.canPredict()&&e.$OzMediaStream35&&(e.$OzMediaStream6?d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(a,e.$OzMediaStream6.getSourceBufferState().getBufferedRanges())>0:!1)||(!e.$OzMediaStream1.getBool("prevent_unnecessary_seek_stream_anchor_reset")||e.$OzMediaStream9!=null)&&(e.$OzMediaStream9=null,e.$OzMediaStream31=!1,e.$OzMediaStream24&&e.$OzMediaStream24.resolve())}));e.$OzMediaStream21=d("oz-player/utils/OzMimeUtil").getMimeType(q.getMimeCodecs());e.$OzMediaStream30=new(c("oz-player/networks/OzStreamingTaskStateManager"))({mimeType:e.$OzMediaStream21,priorityCalculator:e.$OzMediaStream27,loggerProvider:e.$OzMediaStream17,setCustomFetchStreamLoggingAttributes:e.$OzMediaStream39,config:e.$OzMediaStream1});e.$OzMediaStream23=new(c("oz-player/streams/OzMediaStreamLoopDriver"))(babelHelpers.assertThisInitialized(e),e.$OzMediaStream17);p===q.getID()?(e.$OzMediaStream8=q,e.$OzMediaStream20>0&&e.$OzMediaStream41(h,q)):e.$OzMediaStream42(q);return e}var e=b.prototype;e.start=function(){this.$OzMediaStream23.start()};e.getCurrentRepresentation=function(){return this.$OzMediaStream8};e.switchRepresentation=function(a){this.$OzMediaStream42(a,"user")};e.onError=function(a){return this.$OzMediaStream33.onError(a)};e.updateRunTimeConfigs=function(a){a=a.videoStreamDataHandler;a!==void 0&&(this.$OzMediaStream34=a)};e.$OzMediaStream42=function(a,b){var d=this;b===void 0&&(b="internal");b==="user"&&(this.$OzMediaStream9=null);if(this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")){var e;(e=this.$OzMediaStream19)==null?void 0:e.remove();this.$OzMediaStream19=null}e=this.$OzMediaStream17.cloneContext().setType(this.$OzMediaStream21+";init");var f=e.cloneContext().setRepresentationID(a.getID()),g=a.getInitSegment(),h=g.getData();if(h==null){g=this.$OzMediaStream11.request([g],[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream21)],f,"ENABLE_CACHE");h=g.getStream()}var i=e.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream8?this.$OzMediaStream8.getID():null).setInitiator(b).setRepresentationID(a.getID()).setReason(b==="internal"?this.$OzMediaStream15&&this.$OzMediaStream15.getLastEvaluationReason():b).start();this.$OzMediaStream8=a;this.emit("switchRepresentation",b,a);this.$OzMediaStream43({data:h,dataAppendedCallback:function(){i.log(),d.$OzMediaStream1.getBool("append_retry_quota_exceeded_error")&&d.$OzMediaStream26.handleEvent("append_succeeded"),d.emit("initAppended"),d.$OzMediaStream13.notifyRepresentationSwitched(d)},dataAppendedErrorCallback:function(a){i.setError(a).log(),d.$OzMediaStream44(a)},loggerProvider:f.cloneContext(),appendTarget:0,timeRange:null})};e.getLoopInterval=function(){return this.$OzMediaStream22};e.execute=function(){var a=this.$OzMediaStream45();if(a){var b=this.$OzMediaStream24=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return b.resolve()})["catch"](function(a){return b.reject(a)});return b.getPromise()}return null};e.$OzMediaStream46=function(a){if(this.$OzMediaStream15&&this.$OzMediaStream29&&(this.$OzMediaStream1.getBool("enable_abr_for_first_request")||this.$OzMediaStream14||this.$OzMediaStream20>0)){a=this.$OzMediaStream15.getBestRepresentation(a);if(this.$OzMediaStream8!==a)return a}return null};e.$OzMediaStream47=function(a){var b=this.$OzMediaStream6?this.$OzMediaStream6.getSourceBufferState():null,c=this.$OzMediaStream20>0?this.$OzMediaStream8.getSegment(this.$OzMediaStream20-1):null,e=null;a&&(e=this.$OzMediaStream8.getCustomFieldFirstSegment());if(!e&&this.$OzMediaStream8.canPredict()&&this.$OzMediaStream36!=null)return this.$OzMediaStream36.getSegment(this.$OzMediaStream8,this.$OzMediaStream7,this.$OzMediaStream26.computeBufferTarget(),b,this.$OzMediaStream9||c,this.$OzMediaStream10,this.$OzMediaStream1,this.$OzMediaStream35,this.$OzMediaStream21);else{e||(e=d("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream8,this.$OzMediaStream7,this.$OzMediaStream26.computeBufferTarget(),b,this.$OzMediaStream8,this.$OzMediaStream9||c,this.$OzMediaStream1,this.$OzMediaStream32));if(this.$OzMediaStream8.canPredict()){a=this.$OzMediaStream10&&this.$OzMediaStream10.getSequenceNumber()||0;var f=e&&e.getSequenceNumber()||0;if(e&&this.$OzMediaStream10&&a>=f){f=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream8);return(f||0)>=a?this.$OzMediaStream10:null}}}if(!e&&!this.$OzMediaStream48()){f=this.$OzMediaStream8.getEndingSegment();if(f&&this.$OzMediaStream8.isEndingSegment(f)){a=f.getTimeRange().endTime;b=d("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream7,b,this.$OzMediaStream9||c);b>=a&&!this.$OzMediaStream48()&&(e=f)}}return e};e.$OzMediaStream49=function(){return!this.$OzMediaStream14&&this.$OzMediaStream20===0};e.$OzMediaStream50=function(a,b){var e;e=(e=b.fetchSingleSegment)!=null?e:!1;b=(b=b.preventRepresentationSwitch)!=null?b:!1;var f=[];if(e)f=[a];else{e=this.$OzMediaStream28.computeMin(this.$OzMediaStream7,a,this.$OzMediaStream8);f=d("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream1,e,this.$OzMediaStream8,this.$OzMediaStream7,a);f=c("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(f);if(!b){e=this.$OzMediaStream46(f);if(e){this.$OzMediaStream42(e);a=this.$OzMediaStream47(!1);if(!a)return[];else return this.$OzMediaStream50(a,{fetchSingleSegment:!1,preventRepresentationSwitch:this.$OzMediaStream1.getBool("prevent_multiple_successive_representation_switch")})}}}return f};e.$OzMediaStream51=function(){var a=this;if(this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")){var b=function(b){b==null?void 0:b.remove(),a.$OzMediaStream19===b&&(a.$OzMediaStream19=null)};b(this.$OzMediaStream19);var d=null;return new(c("oz-player/shims/OzMaybeNativePromise"))(function(c,e){a.getCurrentRepresentation().forceParseIfNotParsed(),d=a.getCurrentRepresentation().addUpdateListener(function(){b(d),c()}),a.$OzMediaStream19=d})["catch"](function(a){b(d);throw a})}else return new(c("oz-player/shims/OzMaybeNativePromise"))(function(c,d){a.getCurrentRepresentation().forceParseIfNotParsed();var b=a.getCurrentRepresentation().addUpdateListener(function(){c(),a.$OzMediaStream19=null,b.remove()});a.$OzMediaStream19=b})};e.$OzMediaStream41=function(a,b){var c=this,d=b.addUpdateListener(function(){var e=b.getSegment(a-1);e!=null&&c.$OzMediaStream25.add(0,e.getTimeRange().endTime,{id:b.getID()});d.remove()})};e.$OzMediaStream52=function(a,b){var d=this;return new(c("oz-player/shims/OzMaybeNativePromise"))(function(b,c){c=d.$OzMediaStream47(a);c==null?b([]):b(d.$OzMediaStream50(c,{fetchSingleSegment:a}))})};e.$OzMediaStream45=function(){var a=this,b=this.$OzMediaStream6?this.$OzMediaStream6.getSourceBufferState():null;if(this.$OzMediaStream8.canPredict()&&this.$OzMediaStream10&&this.$OzMediaStream8.isEndingSegment(this.$OzMediaStream10)){this.endStream();this.$OzMediaStream17.cloneContext().getOperationLogger("media_loop_end").setInitiator("end1").setRepresentationID(this.$OzMediaStream8.getID()).log();return}if(this.$OzMediaStream8.canPredict()&&this.$OzMediaStream9&&this.$OzMediaStream8.isEndingSegment(this.$OzMediaStream9)){this.endStream();this.$OzMediaStream17.cloneContext().getOperationLogger("media_loop_end").setInitiator("end2").setRepresentationID(this.$OzMediaStream8.getID()).log();return}var d=this.$OzMediaStream49(),e=this.$OzMediaStream47(d);e===this.$OzMediaStream37?this.$OzMediaStream38++:this.$OzMediaStream38=0;this.$OzMediaStream37=e;this.$OzMediaStream7.isPlaying()&&this.$OzMediaStream38>0&&this.$OzMediaStream1.getBool("log_extra_events")&&this.$OzMediaStream17.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setReason((e==null?void 0:e.getSequenceNumber())!=null?String(e==null?void 0:e.getSequenceNumber()):null).setLength(this.$OzMediaStream38).setRepresentationID(this.$OzMediaStream8.getID()).setSegmentStartTime(e==null?void 0:e.getTimeRange().startTime).setSegmentEndTime(e==null?void 0:e.getTimeRange().endTime).log();if(this.$OzMediaStream31){var f;this.$OzMediaStream22=h;this.$OzMediaStream17.cloneContext().getOperationLogger("media_loop_end").setInitiator("ongoing_stream").setReason(((f=this.$OzMediaStream9)==null?void 0:f.getSequenceNumber())!=null?String((f=this.$OzMediaStream9)==null?void 0:f.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream8.getID()).log();return null}this.$OzMediaStream20>0&&!this.$OzMediaStream48()&&this.endStreamIfBufferedToEndTime();if(!e||this.$OzMediaStream31){if(this.$OzMediaStream8.canPredict()&&this.$OzMediaStream1.getBool("ms_promise_for_null")){var g=this.$OzMediaStream1.getNumber("ms_promise_for_null_ms");return new(c("oz-player/shims/OzMaybeNativePromise"))(function(b,d){var e=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){c("oz-player/shims/ozClearTimeout")(e),b()},g?g:(a.$OzMediaStream8.getMaxGopSec()||1)*1e3)})}this.$OzMediaStream22=h;this.$OzMediaStream31||this.$OzMediaStream30.finishTaskIfNoOngoingStream();return this.$OzMediaStream51()}this.$OzMediaStream22=0;var i=this.$OzMediaStream50(e,{fetchSingleSegment:d});if(i.length===0){this.$OzMediaStream17.cloneContext().getOperationLogger("media_loop_end").setInitiator("no_stream_segments").setReason(((f=this.$OzMediaStream9)==null?void 0:f.getSequenceNumber())!=null?String((e=this.$OzMediaStream9)==null?void 0:e.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream8.getID()).log();return this.$OzMediaStream51()}this.$OzMediaStream14=!0;var j=i[i.length-1]||null,k=this.$OzMediaStream8,l=function(){return k.isEndingSegment(j)};i.length!==0||c("oz-player/shims/ozvariant")(0,23148);f=i[0];e=f.getTimeRange().startTime;var m=j.getTimeRange().endTime,n=this.$OzMediaStream17.cloneContext();n.setRepresentationID(this.$OzMediaStream8.getID());this.$OzMediaStream1.getBool("log_appended_segment_info")||n.setSegmentStartTime(e).setSegmentEndTime(m);var o,p,q=this.$OzMediaStream1.getBool("disable_audio_scheduler")&&this.$OzMediaStream21.indexOf("audio")!==-1;this.$OzMediaStream1.getBool("use_scheduler")&&!q&&!d?p=this.$OzMediaStream30.startStreamDeferred({segmentsPromise:this.$OzMediaStream52(d,i),networkManager:this.$OzMediaStream11,sourceBufferState:b,playbackState:this.$OzMediaStream7,segmentsLoggerProvider:n.cloneContext()}):o=this.$OzMediaStream11.request(i,[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream21)],n.cloneContext());this.$OzMediaStream12=o;this.$OzMediaStream31=!0;var r=this.$OzMediaStream53(f,j,i.length),s={startTime:e,endTime:m,tag:{id:this.$OzMediaStream8.getID()}},t=n.getOperationLogger("queued_append");t.start().setReason(this.$OzMediaStream15&&this.$OzMediaStream15.getLastEvaluationReason());var u=function(b){a.$OzMediaStream43({data:b,dataAppendedCallback:function(c,b){t.setAppendedBufferMs(Math.round(c.appendedSec*1e3)),a.$OzMediaStream1.getBool("log_appended_segment_info")&&t.setSegmentEndTime(c.endTime_UNSAFE*1e3).setSegmentStartTime(c.startTime_UNSAFE*1e3),t.log(),a.$OzMediaStream1.getBool("append_retry_quota_exceeded_error")&&a.$OzMediaStream26.handleEvent("append_succeeded"),i.forEach(function(c){a.emit("SegmentAppended",a.$OzMediaStream54(c,b))}),l()&&a.endStream(),a.$OzMediaStream20=0},dataAppendedErrorCallback:function(b){t.setError(b).log();var c=p||o;c&&c.cancel();a.$OzMediaStream44(b)},loggerProvider:n.cloneContext(),appendTarget:r,timeRange:s})},v;!!p||!!o||c("oz-player/shims/ozvariant")(0,23147);p?(p.genStream().then(function(a){return u(a)})["catch"](function(b){return a.$OzMediaStream33.emitError(b)}),v=p.getStatusChangePromise()):o&&(u(o.getStream()),v=o.getStatusChangePromise());q=v.then(function(b){a.$OzMediaStream55(b,j);return a.$OzMediaStream56()}).then(function(){a.$OzMediaStream2=0});return q["catch"](function(b){var c=a.$OzMediaStream9;return a.$OzMediaStream57(j).then(function(){return a.$OzMediaStream58(b,j,c)})})};e.handleError=function(a){return this.$OzMediaStream1.getNumber("loop_body_handle_error_interval_ms")};e.$OzMediaStream58=function(a,b,d){var e=this;this.$OzMediaStream31=!1;var f=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a=this.$OzMediaStream59(a);var g=a[0],h=a[1],i=function(a,b){e.$OzMediaStream2++,e.$OzMediaStream1.getBool("log_extra_events")&&e.$OzMediaStream17.getOperationLogger("media_stream").setInitiator("fetch_stream_"+(b!=null?b:"default")).setLength(a).setReason(""+g.getDescription()).setCode(h.length>0?Number.parseInt(h,10):null).setType(e.$OzMediaStream21).log(),b==="retry_failed_request"&&(e.$OzMediaStream9=d),c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return f.resolve()},a)};this.$OzMediaStream4!==h?(this.$OzMediaStream4=h,this.$OzMediaStream3=1):this.$OzMediaStream3++;a=!0;var j=function(){a=!1},k={consecutiveFailuresForErrorCode:this.$OzMediaStream3,endStream:function(){j(),e.$OzMediaStream10=b,e.endStream(),f.resolve()},error:g,isInitialRequest:!1,retry:function(a,b){j();i((a=a)!=null?a:0,b)},retryAttemptCount:this.$OzMediaStream2};this.emit("streamError",k);a&&(this.$OzMediaStream33.emitError(g),this.$OzMediaStream2=0,f.resolve());return f.getPromise()};e.$OzMediaStream57=function(a){this.$OzMediaStream9=null;this.$OzMediaStream10=a;this.$OzMediaStream30.finishTaskIfNoOngoingStream();return this.$OzMediaStream6?this.$OzMediaStream6.cancelOperationAndCleanQueue(this.$OzMediaStream17):c("oz-player/shims/OzMaybeNativePromise").resolve()};e.$OzMediaStream55=function(a,b){a==="done"&&(this.$OzMediaStream9=b)};e.$OzMediaStream56=function(){this.$OzMediaStream31=!1};e.$OzMediaStream59=function(a){var b,d;a instanceof c("oz-player/utils/OzError")?(b=a.getExtra().code||"",d=a):(b=a.status?a.status.toString():"0",d=new(c("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.message,extra:{originalError:a,code:b,url:a.url}}));return[d,b]};e.$OzMediaStream43=function(a){this.$OzMediaStream18.push(a),this.$OzMediaStream6&&this.$OzMediaStream40()};e.$OzMediaStream60=function(a){if(this.$OzMediaStream6!=null&&a!=null){var b=this.$OzMediaStream6.getSourceBufferState().getBufferedRanges();b=d("oz-player/utils/OzRangeUtils").getRangeForTime(a.startTime+i,b);b!=null&&this.$OzMediaStream25.add(a.startTime,b.endTime,a.tag)}};e.$OzMediaStream40=function(){var a=this;this.$OzMediaStream18.forEach(function(b){var d=b.data,e=b.dataAppendedCallback,f=b.dataAppendedErrorCallback,g=b.loggerProvider,h=b.appendTarget,i=b.timeRange;b=d instanceof Uint8Array||a.$OzMediaStream34==null?d:d.pipeThrough(new(c("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream34.bind(a,a.$OzMediaStream8)));d=null;var j=a.$OzMediaStream1.getNumber("tagged_time_range_per_append_throttle");j>0&&(d=c("oz-player/shims/ozThrottle")(a.$OzMediaStream60.bind(a,i),j));a.$OzMediaStream6&&a.$OzMediaStream6.queueData(b,g,h,d).then(function(b){e(b,i),i&&a.$OzMediaStream8.canPredict()&&b.startTime_UNSAFE&&b.endTime_UNSAFE?a.$OzMediaStream25.add(b.startTime_UNSAFE,b.endTime_UNSAFE,i.tag):i&&a.$OzMediaStream25.add(i.startTime,i.endTime,i.tag)})["catch"](function(a){f(a)})});this.$OzMediaStream18=[]};e.$OzMediaStream61=function(){var a=this.$OzMediaStream6,b=this.$OzMediaStream7.getCurrentTime(),d=null;a&&(d=this.$OzMediaStream1.getBool("clear_buffer_on_quota_exceeded_error")?a.clearRangeWithWait(0,b):a.cancelOperationAndCleanQueue(this.$OzMediaStream17));return(b=d)!=null?b:c("oz-player/shims/OzMaybeNativePromise").resolve()};e.$OzMediaStream44=function(a){var b=this;if(this.$OzMediaStream1.getBool("append_retry_quota_exceeded_error")&&a instanceof c("oz-player/utils/OzError")&&a.getType()==="OZ_SOURCE_BUFFER_QUOTA_EXCEEDED"){this.$OzMediaStream26.handleEvent("append_quota_exceeded");var d=this.$OzMediaStream61();d.then(function(){b.restartLoopBody()})["catch"](function(a){a=new(c("oz-player/utils/OzError"))({type:"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR",description:a.name+": "+a.message,extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR}});b.$OzMediaStream33.emitError(a)})}else this.$OzMediaStream1.getBool("fallback_on_append_error")&&a instanceof c("oz-player/utils/OzError")&&a.getType()!=="OZ_NETWORK"&&this.$OzMediaStream33.emitError(a)};e.$OzMediaStream53=function(a,b,c){var d=0,e=this.$OzMediaStream1.getNumber("appends_per_segment");if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream1.getNumber("append_byte_target_without_range"));return d};e.getIsAdaptationEnabled=function(){return this.$OzMediaStream29};e.enableAdaptation=function(){this.$OzMediaStream29=!0};e.disableAdaptation=function(){this.$OzMediaStream29=!1};e.cleanup=function(){this.$OzMediaStream5.then(function(a){a.destroy()}),this.$OzMediaStream30.destroy(),this.$OzMediaStream16.release(),this.$OzMediaStream16.engage(),this.removeAllListeners(),this.$OzMediaStream19&&(this.$OzMediaStream19.remove(),this.$OzMediaStream1.getBool("fix_segment_updated_subscription_leak")&&(this.$OzMediaStream19=null)),this.$OzMediaStream23.stop()};e.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream25.get(a);if(!b){var c=this.$OzMediaStream8.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream7.getDuration()+d&&(b=this.$OzMediaStream25.get(c.endTime-d))}return b?b.id:null};e.endStream=function(){this.$OzMediaStream13.notifyMediaStreamEnded(this),this.$OzMediaStream62()};e.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream8.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream6){var b=this.$OzMediaStream6.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<i&&this.endStream())}}};e.$OzMediaStream54=function(a,b){return{type:this.$OzMediaStream21.charAt(0),segment:a,sourceBuffer:this.$OzMediaStream6?this.$OzMediaStream6.getDebug().SourceBuffer:null,timeRange:b}};e.restartLoopBody=function(){this.$OzMediaStream9=null,this.$OzMediaStream31=!1,this.$OzMediaStream12&&this.$OzMediaStream12.cancel(),this.$OzMediaStream22!==0&&this.$OzMediaStream24&&this.$OzMediaStream24.resolve()};e.$OzMediaStream62=function(){if(this.$OzMediaStream6){var a=this.$OzMediaStream6.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream32=a[a.length-1].endTime)}};e.$OzMediaStream48=function(){return this.$OzMediaStream32!==null};e.setEnableLiveheadCatchup=function(a){this.$OzMediaStream35=a};e.clearSourceBufferRange=function(a,b){var d=this.$OzMediaStream6;return d?d.clearRangeWithWait(a,b):c("oz-player/shims/OzMaybeNativePromise").resolve()};e.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream6,MediaStreamAbrManager:this.$OzMediaStream15}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/shims/OzURI","oz-player/streams/OzSegmentLocator","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=0;for(var d in a){var e;if(d===b)continue;c=Math.max(c,(e=a[d].lastSkippedToSegmentNumber)!=null?e:0)}return c}function i(a){return a.reduce(function(a,b){var c;return((c=b==null?void 0:b.getSequenceNumber())!=null?c:0)>((c=a==null?void 0:a.getSequenceNumber())!=null?c:0)?b:a})}function j(a,b){return a.getPredictedSegmentAfter({getData:function(){return null},getByteRange:function(){return null},getSequenceNumber:function(){return b-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(c("oz-player/shims/OzURI"))("")}})}a=function(){function a(a){this.$4={};var b=a.videoNode,c=a.liveLatencyManager;a=a.loggerProvider;this.$1=b;this.$2=c;this.$3=a}var b=a.prototype;b.getSegment=function(a,b,c,d,e,f,g,h,i){this.$4[i]==null&&(this.$4[i]={lastSkippedToSegmentNumber:null});a=this.$5(a,b,c,d,e,f,g,h,i);g.getBool("log_extra_events")&&a.segment===null&&this.$3.getOperationLogger("segment_locator").setInitiator(a.initiator).setReason(a.reason).setType(i).setUserInfo(a.userInfo).log();return a.segment};b.$5=function(a,b,c,e,f,g,k,l,m){var n,o=b.getCurrentTime(),p=k.getNumber("pdash_download_cursor_catchup_threshold_sec")>0;k.getBool("pdash_download_cursor_s233348_gate")&&(p=this.$2==null?!1:this.$2.shouldEnableCursorBasedCatchup());e=e!=null?d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e.getBufferedRanges(),b.getCurrentTime(),k):{bufferAheadSec:0,bufferedOffset:0};b=e.bufferAheadSec;e=e.bufferedOffset;var q=null,r=null,s=this.$2?this.$2.enabled():!0,t=a.getPredictedSegmentAfter(f),u=j(a,h(this.$4,m)),v=!0;if(p&&l&&((n=t)==null?void 0:n.getSequenceNumber())!=null&&((n=(n=t)==null?void 0:n.getSequenceNumber())!=null?n:0)<=((n=u==null?void 0:u.getSequenceNumber())!=null?n:0)){t=u;q="paired_catchup";if(k.getBool("log_extra_events")){this.$3.getOperationLogger("latency_manager").setInitiator(q).setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(e)}).setLength(((n=u==null?void 0:u.getSequenceNumber())!=null?n:0)-((n=(u=t)==null?void 0:u.getSequenceNumber())!=null?n:0)).setType(m).log()}v=!1}else if(p&&l&&s&&t!=null&&((u=this.$2)==null?void 0:u.isBehindPreferredLiveHeadLatency())){if(k.getBool("pdash_download_cursor_catchup_skip_totalbufer")&&this.$2&&b>this.$2.getPreferredLiveHeadLatencySec()&&e==0)return{segment:null,initiator:"catchup_pause",userInfo:{bufferAheadSec:String(b),bufferedOffset:String(e)}};n=a.getEndingSegment();p=i([n,t]);if(((l=p==null?void 0:p.getSequenceNumber())!=null?l:0)>((n=(u=t)==null?void 0:u.getSequenceNumber())!=null?n:0)){this.$4[m].lastSkippedToSegmentNumber=(l=p==null?void 0:p.getSequenceNumber())!=null?l:0;if(k.getBool("log_extra_events")){this.$3.getOperationLogger("latency_manager").setInitiator("catchup").setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(e)}).setLength(((u=p==null?void 0:p.getSequenceNumber())!=null?u:0)-((l=(n=t)==null?void 0:n.getSequenceNumber())!=null?l:0)).setType(m).log()}}t=p;q="catchup";v=!1}else if(f==null){t=a.getSegmentByTime(o);q="1st_run";u=a.getTimeRanges();r={approx:String(a.canApproximateId()),ranges:String(u.length),mpdStartTime:u.length>0?String(u[0].startTime):null,mpdEndTime:u.length>0?String(u[0].endTime):null};if(k.getBool("download_cursor_1st_run_set_skipped_segment_on")){this.$4[m].lastSkippedToSegmentNumber=(l=(n=t)==null?void 0:n.getSequenceNumber())!=null?l:0}}v=v&&k.getBool("download_cursor_disable_buffer_ahead_rule_on")?s:v;if(v&&b>c)return{segment:null,initiator:"buffer_ahead_rule",userInfo:{bufferAheadSec:String(b),bufferedOffset:String(e),lastMaxSegNum:String(h(this.$4,m)),segment:t?String(t.getSequenceNumber()):null}};if(k.getBool("pdash_wait_on_mpd_refresh_when_error")){p=g&&g.getSequenceNumber()||0;f=t&&t.getSequenceNumber()||0;if(t&&g&&p>=f){o=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(a);return(o||0)>=p?{segment:g}:{segment:null,initiator:"mpd_refresh",userInfo:{leSegNum:String(p)}}}}return{segment:t,initiator:q?q:void 0,userInfo:r?r:void 0}};return a}();g["default"]=a}),98);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(h.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}g["default"]=a}),98);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzDynamicVideoLibrary","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/parsers/OzXmlParserImplSax","oz-player/playback_controls/OzClearSourceBufferOnSeekManager","oz-player/playback_controls/OzLiveLatencyManager","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzAudioIBRManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStaleManifestBufferTargetStrategy","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a||c("oz-player/shims/ozvariant")(0,21876);return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this)||this;e.$Player4=new Map();e.$Player5=new Map();e.$Player9=void 0;e.$Player10=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$Player11=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player25=[];e.$Player31=null;e.$Player32=null;e.$Player41=null;e.$Player49=!1;e.$Player52=0;e.$Player53=null;e.$Player54=null;e.$Player55=0;e.$Player56=null;e.$Player57=null;e.$Player58=!1;e.$Player61=null;e.$Player72=function(){var a=e.$Player3.getBool("xmlparser_use_domparser")?new(c("oz-player/parsers/OzXmlParserImplDOMParser"))():new(c("oz-player/parsers/OzXmlParserImplSax"))();return a};var f=b.audioOnly;f=f===void 0?!1:f;var g=b.bufferingDetector,h=b.videoNodeOrQuickStarter,i=b.config,j=b.configMap,k=b.rawMpdXml,l=b.mpdUrl;l=l===void 0?null:l;var m=b.loggerConfig;m=m===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:m;var n=b.prefetchCache;n=n===void 0?null:n;var o=b.getOverrideOzRequestImplementation;o=o===void 0?null:o;var p=b.networkRequestStreamHandlers,q=b.networkRequestStreamRetryHandler,r=b.getShouldIncludeCredentials;r=r===void 0?null:r;var s=b.getCustomRequestParametersForURI;s=s===void 0?null:s;var t=b.initialRepresentationIDs;t=t===void 0?[]:t;var u=b.debugCreateInitiator;u=u===void 0?null:u;var v=b.customParsers;v=v===void 0?new Map():v;var w=b.entityKey;w=w===void 0?"":w;var x=b.videoPlaybackRestrictions;x=x===void 0?[]:x;var y=b.customSegmentTimelineParser;y=y===void 0?null:y;var z=b.customRepresentationParsers;z=z===void 0?{}:z;var A=b.videoAbrManagerFactory;A=A===void 0?null:A;var B=b.seekHandler;B=B===void 0?null:B;var C=b.initialPlaybackPositionForDynamicMpd;C=C===void 0?-20:C;var D=b.liveheadFallBehindBlockThreshold;D=D===void 0?30:D;var E=b.liveheadFallBehindBlockMargin;E=E===void 0?5.9:E;var F=b.startTimeStamp;F=F===void 0?0:F;var G=b.drmProviders;G=G===void 0?[]:G;var H=b.getVideoDimensions;H=H===void 0?null:H;b=b.setCustomFetchStreamLoggingAttributes;b=b===void 0?null:b;e.$Player47=u;u=m.perfLoggerProviders;var I=m.observedOperationLoggers;m=m.isOzDevConsoleEnabled;e.$Player16=m||!1;e.$Player15=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)(e.$Player64().concat(u));e.$Player1=f;e.$Player3=(m=i)!=null?m:new(c("oz-player/configs/OzPlayerConfig"))((u=j)!=null?u:{});e.$Player65();e.$Player22=new(c("oz-player/loggings/OzOperationLoggerObserver"))();e.$Player22.observe(I,e.$Player15);e.$Player24=n;e.$Player51=o;f=n&&n.getCachedRepresentations(w);e.$Player25=f||t;e.$Player27=v;e.$Player30=x;e.$Player30.push(new(c("oz-player/strategies/OzSupportedMimeCodecsRestriction"))());e.$Player28=z;e.$Player29=y;e.$Player34=A;e.$Player35=B;e.$Player36=F;e.$Player37=C;e.$Player38=D;e.$Player40=E;e.$Player45=G;e.$Player61=b;h instanceof HTMLVideoElement?(e.$Player2=h,e.$Player6=new(c("oz-player/media_source/MediaSourceManager"))(e.$Player2,e.$Player3,e.$Player15)):(e.$Player2=h.getVideoNode(),e.$Player6=h.getMediaSourceManager(),e.$Player7=h);e.$Player62=new(c("oz-player/playback_controls/OzClearSourceBufferOnSeekManager"))(e.$Player2,e.$Player3,e.$Player4);e.$Player62.maybeOverwriteVideoCurrentTimeProperty();e.$Player10.addSubscriptions(e.$Player62.onError(e.$Player11.emitError));e.$Player3.getBool("enable_dvl")&&(e.$Player63=new(c("oz-player/manifests/OzDynamicVideoLibrary"))());e.$Player42=p;e.$Player43=r;e.$Player44=s;e.$Player12=new(c("oz-player/networks/OzNetworkManager"))({config:e.$Player3,prefetchCache:e.$Player24,networkRequestStreamHandlers:e.$Player42,getOverrideOzRequestImplementation:e.$Player51,getShouldIncludeCredentials:e.$Player43,getCustomRequestParametersForURI:e.$Player44,networkRequestStreamRetryHandler:q,setCustomFetchStreamLoggingAttributes:e.$Player61,dynamicVideoLibrary:e.$Player63});e.$Player17=l;e.$Player3.getBool("treat_inline_mpd_xml_empty_string_as_null")?e.$Player8=k!=null&&k!==""?k:null:e.$Player8=k;e.$Player13=new(c("oz-player/states/OzObservedPlaybackState"))(e.$Player3,e.$Player2,e.$Player15);e.$Player50=H;e.$Player14=new(c("oz-player/streams/OzEndOfStreamWatcher"))(e.$Player6,e.$Player3);e.$Player10.addSubscriptions(e.$Player14.addListener("streamEnd",function(){e.$Player49=!0,e.emit("streamEnd")}));e.$Player23=new(c("oz-player/media_source/OzMediaSeekableRangeManager"))(e.$Player6,e.$Player3);if(e.$Player3.getBool("accept_external_buffering_detector")){e.$Player48=(i=g)!=null?i:e.$Player66()}else e.$Player7==null&&(e.$Player48=e.$Player66());e.$Player3.getNumber("pixels_below_viewport_to_observe")>0&&(e.$Player59=new(c("oz-player/states/OzPositionToViewport"))(e.$Player2,e.$Player3));return e}var f=e.prototype;f.$Player67=function(a){var b=this;this.$Player68();this.$Player7&&this.$Player10.addSubscriptions(this.$Player7.onError(this.$Player11.emitError));try{var e=d("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player15.cloneContext().setInitiator(this.$Player47),"parse_manifest",function(e){var c=b.$Player69(a);if(b.$Player3.getBool("log_extra_events")){var f=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(c,b.$Player3);f=f&&f.endTime!=0?f.endTime:null;e.setLiveheadPosition(f).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(c)).setManifestType(c.isStaticMpd()?"static":"dynamic").setIsTemplatedManifest(Boolean(c.getCustomField("isLiveTemplated")))}return c});this.$Player70(e)}catch(a){if(a instanceof c("oz-player/utils/OzError"))this.$Player11.emitError(a);else throw a}};f.$Player70=function(a){var b=this;this.$Player9=h(a);this.$Player3.getBool("player_emit_mpdready_early")&&this.emit("mpdReady",a);this.$Player26=this.$Player71();if(this.$Player17!==null&&this.$Player17!==void 0){var d=new(c("oz-player/parsers/OzMpdUpdater"))(this.$Player3,a,this.$Player12,this.$Player13,this.$Player15,{mpdUrl:null,createXmlParser:this.$Player72,customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player46);this.$Player73(d);this.$Player10.addSubscriptions(d.onError(this.$Player11.emitError),d.addListener("manifestFetchError",function(a){return b.emit("manifestFetchError",a)}),d.addListener("streamTransitionToStatic",this.$Player74.bind(this)),d.addListener("streamGone",this.$Player75.bind(this)));d.setupUpdateLoop();this.$Player21=d}this.$Player3.getBool("use_live_latency_manager")?!a.isStaticMpd()?(this.$Player39=new(c("oz-player/playback_controls/OzLiveLatencyManager"))({config:this.$Player3,mpd:a,playbackState:this.$Player13,bufferingDetector:this.$Player48,video:this.$Player2,loggerProvider:this.$Player15}),this.$Player36=this.$Player39.getPreferredLiveHeadLatencySec()*-1):this.$Player36=this.$Player36:this.$Player36=a.isStaticMpd()?this.$Player36:this.$Player76(a);this.$Player18=new(c("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player2,mpd:a,dynamicVideoLibrary:this.$Player63,playheadCatchup:this.$Player33,playbackState:this.$Player13,config:this.$Player3,perfLoggerProvider:this.$Player15,seekHandler:this.$Player35,initialPlaybackPosition:this.$Player36,canSupportSkipVideobufferGaps:this.$Player62.getCurrentTimePropertyOverwriteSuccess(),liveLatencyManager:this.$Player39});this.$Player19=new(c("oz-player/playback_controls/OzPlayheadNudger"))({config:this.$Player3,video:this.$Player2,perfLoggerProvider:this.$Player15});this.$Player20=new(c("oz-player/playback_controls/OzPlaybackTimeRangeManager"))({config:this.$Player3,video:this.$Player2,mpd:a,liveheadFallBehindBlockThreshold:this.$Player38,liveheadFallBehindBlockMargin:this.$Player40,playbackState:this.$Player13,perfLoggerProvider:this.$Player15});this.$Player77()["catch"](function(a){a instanceof c("oz-player/utils/OzError")?b.$Player11.emitError(a):b.$Player11.emitError(new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Failed to setup streams: "+(a.message||String(a)),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}))});this.$Player3.getBool("player_emit_mpdready_early")||this.emit("mpdReady",a)};f.load=function(a){var b=this;this.$Player17=a;try{var d=this.$Player8;d!=null?this.$Player67(d):a!=null?this.$Player78(a).then(function(a){if(b.$Player58){b.$Player58=!1;b.load(b.$Player17);return}b.$Player8=a;b.$Player52=0;b.$Player67(a)})["catch"](function(d){if(b.$Player58){b.$Player58=!1;b.load(b.$Player17);return}d=d instanceof c("oz-player/utils/OzError")?d:new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Unknown mpd url load failure: "+a+("; errorMessage: "+d.message+"; errorDescription: "+((d=d.description)!=null?d:"")+";")});b.$Player79(d,a)}):this.$Player11.emitError(new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(a){d=a instanceof c("oz-player/utils/OzError")?a:new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Failed to call load"+("; errorMessage: "+a.message+"; errorDescription: "+((d=a.description)!=null?d:"")+";")});this.$Player11.emitError(d)}};f.$Player76=function(a){var b;b=(b=a.getVideoRepresentations()[0].getMaxGopSec())!=null?b:0;if(this.$Player3.getBool("use_ending_duration_for_gop_multiplier")){a=(a=a.getVideoRepresentations()[0].getEndingSegment())==null?void 0:a.getTimeRange();a=a!=null?a.endTime-a.startTime:0;a>0&&(b=a)}return Math.min(this.$Player37+this.$Player3.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*b*this.$Player3.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))};f.$Player78=function(a){this.$Player52++;a=this.$Player12.requestRawUrl(a,{},null,this.$Player15);a=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};f.$Player80=function(){this.$Player53!=null&&(c("oz-player/shims/ozClearTimeout")(this.$Player53),this.$Player53=null)};f.$Player79=function(a,b){var d=this,e=!0,f=this.$Player52-1,g=a.getExtra().code;this.$Player54!==g?(this.$Player54=g,this.$Player55=1):this.$Player55++;var h=function(){e=!1};g={endStream:function(){throw new(c("oz-player/utils/OzError"))({type:"OZ_INITIALIZATION",description:"Cannot call endStream before stream is started"})},consecutiveFailuresForErrorCode:this.$Player55,error:a,isInitialRequest:!0,retry:function(a){h(),d.$Player80(),d.$Player53=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$Player80(),d.load(b)},a!=null?a:1e3)},retryAttemptCount:f};this.$Player3.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",g);e&&this.$Player11.emitError(a)};f.updatePlayerRunTimeConfig=function(a){var b=a.manifestUrl;a=a.videoStreamDataHandler;if(a!==void 0){var c=this.$Player4.get("video");c&&c.updateRunTimeConfigs({videoStreamDataHandler:a})}b!=null&&b!==""&&this.$Player81(b)};f.$Player82=function(a,b){var c=this,e=a.getMimeCodecs(),f,g=0,h=null,i=this.$Player7;i&&(f=i.getSourceBufferManagerPromise(e),g=i.getPrependedSegmentsCount(e),this.$Player3.getBool("fix_quick_starter_overhead")&&(h=i.getRepresentationId(e)));f||(f=this.$Player6.createSourceBufferManager(e,this.$Player3.getBool("set_source_buffer_append_window_end")));this.$Player83(f,b,h,a,g);i=f.then(function(a){c.$Player48&&c.$Player48.setSourceBufferState(b,a.getSourceBufferState());return a});return d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,this.$Player15,"source_attach",function(a){a.setType(b)}).then(function(a){return c.$Player18.observeSourceBufferState(a.getSourceBufferState(),b)})};f.isDrm=function(){var a=this.$Player46;if(a!==null&&a!==void 0){a=a.hasContentProtections();return a!=null?a:!1}return!1};f.$Player68=function(){if(this.$Player45.length>0){var a=this.$Player46=new(d("oz-player/drm/OzDrmManager").OzDrmManager)(this.$Player15,this.$Player2,{maxStartEMEAttempts:this.$Player3.getNumber("max_start_eme_attempts")});a.onError(this.$Player11.emitError);this.$Player45&&this.$Player45.forEach(a.addProvider,a);this.$Player28.drmProtections&&this.$Player11.emitError(new(c("oz-player/utils/OzError"))({type:"OZ_DRM_MANAGER",description:'"drmProtections" is a reserved parser name for "customRepresentationParsers". Please rename your parser.'}));this.$Player28.drmProtections=a.parseContentProtectionForRepresentation.bind(this.$Player46)}};f.$Player84=function(a){var b=h(this.$Player9);a=[this.$Player3,a,b.getVideoRepresentations(),this.$Player30,this.$Player13,window.devicePixelRatio||1,this.$Player85.bind(this),b.isStaticMpd()?"static":"dynamic"];b=this.$Player34&&this.$Player34.apply(this,a);return(b=b)!=null?b:babelHelpers.construct(c("oz-player/strategies/OzAbrManager"),a)};f.$Player83=function(a,b,e,f,g){var i=this,j=h(this.$Player9),k=this.$Player5.get(b),l=new(c("oz-player/streams/OzMediaStream"))({config:this.$Player3,sourceBufferManagerPromise:a,prependedSegmentsCount:g,networkManager:this.$Player12,playbackState:this.$Player13,endOfStreamWatcher:this.$Player14,bufferTargetCalculator:this.$Player26,priorityCalculator:this.$Player86(),streamSegmentsCountCalculator:this.$Player87(b),abrManager:k,loadedRepresentationId:e,representation:f,loggerProvider:this.$Player15.cloneContext().setType(b),segmentLocator:this.$Player60,setCustomFetchStreamLoggingAttributes:this.$Player61});this.$Player36===0?l.start():this.$Player10.addSubscriptions(this.$Player18.addListener("initialPlaybackPositionSet",function(){i.$Player13.forceUpdateCurrentTime(),l.start()}));this.$Player10.addSubscriptions(l.onError(this.$Player11.emitError),this.$Player23.listenToMediaStreamInitAppended(l));b==="video"&&(this.$Player32=new(c("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player3,this.$Player13,d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player30,this.$Player85(),j.getVideoRepresentations()),l,a),this.$Player10.addSubscriptions(this.$Player32.onError(this.$Player11.emitError)));this.$Player4.set(b,l);this.$Player10.addSubscriptions(l.addListener("switchRepresentation",function(){if(i.$Player3.getBool("update_live_video_config_on_representation_switch")){var a=l.getCurrentRepresentation();i.$Player3.getBool("fix_setup_video_duration_on_representation_switch")||i.$Player88(a);i.$Player23.setTimeRangeProvider(a);i.$Player18.setTimeRangeProvider(a);i.$Player20!=null&&i.$Player20.setTimeRangeProvider(a)}b==="video"&&i.emit("switchVideoRepresentation")}),l.addListener("SegmentAppended",function(a){i.$Player89("SegmentAppended",a)}),l.addListener("streamError",function(a){i.emit("streamError",a)}))};f.$Player71=function(){return new(c("oz-player/strategies/OzBufferTargetCalculator"))([new(c("oz-player/strategies/OzStaleManifestBufferTargetStrategy"))(h(this.$Player9),this.$Player3),new(c("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player13,this.$Player3),new(c("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player3)],this.$Player3.getBool("append_retry_quota_exceeded_error")?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))(this.$Player3)]:[])};f.$Player73=function(a){var b=this;if(this.$Player3.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var d=this.$Player3.getBool("use_buffering_detector_for_playhead_interruption")?this.$Player48:null,e=new(c("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player2,d);this.$Player10.addSubscriptions(e.addListener("playheadAtInterruption",function(a){b.$Player15.getOperationLogger("stream_interrupted").log(),b.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){var c;(c=b.$Player48)==null?void 0:c.notifyStreamInterrupted();e.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){var c;b.$Player3.getBool("restart_media_streams_on_stream_resumed")&&b.$Player4.forEach(function(a){a.restartLoopBody()});b.$Player15.getOperationLogger("stream_resumed").log();(c=b.$Player48)==null?void 0:c.notifyStreamResumed();e.notifyStreamResumed();b.emit("streamResumedAt",a)}));this.$Player31=e}};f.$Player86=function(){var a=[new(c("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player13),new(c("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player3,this.$Player13)].concat(this.$Player3.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player59!=null?new(c("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player59,this.$Player3):[]);return new(c("oz-player/strategies/OzPriorityCalculator"))(a)};f.$Player87=function(a){var b=[new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player3),new(c("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player26,this.$Player3)];this.$Player3.getNumber("paused_stream_segments_count")!==0&&b.push(new(c("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player13,this.$Player3));if(a==="video"){a=h(this.$Player9);b.push(new(c("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player3,a.getVideoRepresentations()))}return new(c("oz-player/strategies/OzStreamSegmentsCountCalculator"))(b)};f.onError=function(a){return this.$Player11.onError(a)};f.getSelectedVideoQuality=function(){var a=this.$Player9;if(!a)return"";var b=this.$Player4.get("video");b=b&&b.getCurrentRepresentation();if(b instanceof c("oz-player/manifests/OzVideoRepresentation"))return b.getQualityLabel();b=a.getVideoRepresentations();a=b[0];if(a)return a.getQualityLabel();a||c("oz-player/shims/ozvariant")(0,19857);return""};f.switchToVideoQuality=function(a){var b=h(this.$Player9);b=b.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player4.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};f.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player4.get("video");return a?a.getIsAdaptationEnabled():!1};f.enableVideoQualityAdaptation=function(){var a=this.$Player4.get("video");a&&a.enableAdaptation()};f.getVideoQualities=function(){var a=this.$Player9;return!a?[]:a.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};f.setEnableLiveheadCatchup=function(a){this.$Player20&&(a?this.$Player15.getOperationLogger("live_catchup_enabled").log():this.$Player15.getOperationLogger("live_catchup_disabled").log(),this.$Player20.setTimelineBlockingEnabled(a)),this.$Player4.forEach(function(b){b.setEnableLiveheadCatchup(a)}),this.$Player18.setEnableLiveheadCatchup(a)};f.$Player77=function(){var a=this,d=h(this.$Player9);d=d.getVideoRepresentations()[0];this.$Player60=d&&d.canPredict()&&this.$Player3.getBool("pdash_use_pdash_segmentlocator")||d&&d.canApproximateId()?new(c("oz-player/streams/OzPredictedSegmentLocator"))({videoNode:this.$Player2,liveLatencyManager:this.$Player39,loggerProvider:this.$Player15}):null;d=this.$Player1?[this.$Player90({liveConfigsFromAudioStream:!0})]:[this.$Player91(),this.$Player90({})];var e=[];return b("Promise").all(d).then(function(){var b=a.$Player4.get("video"),c=a.$Player4.get("audio");b&&e.push(b.getCurrentRepresentation());c&&e.push(c.getCurrentRepresentation());e.forEach(function(b){a.$Player10.addSubscriptions(b.addUpdateListener(function(){a.$Player89("SegmentIndexesUpdated",e)}))});a.$Player89("InitialSegmentIndexes",e);a.$Player2&&a.$Player2.style&&(a.$Player2.style.display=a.$Player1?"none":"block")})};f.$Player88=function(a){if(a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player6.updateDuration(a)}else this.$Player3.getBool("log_extra_events")&&this.$Player15.getOperationLogger("playhead_adjustment").setInitiator("setup_initial_duration").setResult("failed").log()};f.$Player92=function(a){this.$Player88(a),this.$Player23.setTimeRangeProvider(a),this.$Player18.setTimeRangeProvider(a),this.$Player20!=null&&this.$Player20.setTimeRangeProvider(a)};f.$Player91=function(){var a=h(this.$Player9);a=a.getVideoRepresentations();if(this.$Player3.getBool("no_representation_error_detailed_message")&&!a.length)return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("no video representations in the manifest."));var b=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player30,this.$Player85(),a,this.$Player3.getBool("respect_initial_representation_on_setup")?this.$Player25:null);if(!b.length)if(this.$Player3.getBool("no_representation_error_detailed_message")){a=a.map(function(a){return a.getQualityLabel()+"@"+a.getWidth()+"x"+a.getHeight()+"("+a.getMimeCodecs()+")"});return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("restricted all video representations: "+a.join(", ")))}else return c("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player92(b[0]);a=this.$Player93(b);if(this.$Player3.getBool("enable_adaptation")){var e=this.$Player84(a||b[0]);this.$Player5.set("video",e);this.$Player3.getBool("use_abr_for_missing_default_representation")&&!a&&(a=e.getBestRepresentation())}return this.$Player82(a||b[0],"video")};f.$Player90=function(a){a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var b=h(this.$Player9);b=b.getAudioRepresentations();a&&this.$Player92(b[0]);return b.length?this.$Player82(this.$Player94(b)||b[0],"audio"):c("oz-player/shims/OzMaybeNativePromise").resolve()};f.getMpd=function(){return this.$Player9};f.destroy=function(a){var c=this;a=this.$Player15.getOperationLogger("unload").setInitiator(a).start();this.$Player62.destroy();this.$Player80();this.$Player4.forEach(function(a){a.cleanup()});this.$Player32&&this.$Player32.cleanup();this.$Player4=new Map();this.$Player10.release();this.$Player10.engage();this.$Player13.destroy();this.$Player18&&this.$Player18.destroy();this.$Player39&&(this.$Player39.destroy(),this.$Player39=null);this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);this.$Player20&&(this.$Player20.destroy(),this.$Player20=null);this.$Player46&&this.$Player46.destroy();this.$Player59&&this.$Player59.destroy();this.$Player12&&this.$Player12.destroy();this.$Player50&&(this.$Player50=null);this.$Player3.getBool("detach_media_source_manager")&&this.$Player6&&this.$Player6.detach();var d=b("Promise").resolve();this.$Player3.getBool("cleanup_video_node_on_destroy")&&(this.$Player2.pause(),this.$Player3.getBool("remove_src_attr_on_unload")?this.$Player2.removeAttribute("src"):this.$Player2.src="",this.$Player2.setMediaKeys&&"function"===typeof this.$Player2.setMediaKeys&&(d=this.$Player2.setMediaKeys(null)));this.$Player21&&this.$Player21.destroy();this.$Player31&&this.$Player31.destroy();this.$Player22.destroy();this.$Player23.destroy();this.$Player48&&this.$Player48.destroy();a.log();this.$Player3.getBool("emit_destroyed_after_media_keys_clear")||this.emit("destroyed");a=[d];return b("Promise").all(a).then(function(){c.$Player3.getBool("load_video_node_on_unload")&&(c.$Player2.load(),c.$Player3.getBool("emit_destroyed_after_media_keys_clear")&&c.emit("destroyed"))})};f.$Player93=function(a){var b=this,d;d=a.find(function(a){return b.$Player25.indexOf(a.getID())!==-1});if(!d&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead")){var e=this.$Player7.getRepresentationId("video");e!==null&&e!==void 0&&(d=a.find(function(a){return a.getID()===e}))}d||(d=c("oz-player/utils/getRepresentationInCache")(a,this.$Player24));return d||null};f.$Player94=function(a){var b=this,d=h(this.$Player9),e;e=a.find(function(a){return b.$Player25.indexOf(a.getID())!==-1});if(!e&&this.$Player7&&this.$Player3.getBool("fix_quick_starter_overhead")){var f=this.$Player7.getRepresentationId("audio");f!==null&&f!==void 0&&(e=a.find(function(a){return a.getID()===f}))}e||(e=c("oz-player/utils/getRepresentationInCache")(a,this.$Player24));if(!e&&!d.isStaticMpd()&&a.length>1&&this.$Player3.getBool("live_audio_ibr")){d=new(c("oz-player/strategies/OzAudioIBRManager"))(this.$Player3,this.$Player15);e=d.getInitialAudioRepresentation(a)}return e||null};f.$Player69=function(a){var b=new(c("oz-player/parsers/OzMpdParser"))(this.$Player3,{mpdUrl:this.$Player17,createXmlParser:this.$Player72,customParsers:this.$Player27,customRepresentationParsers:this.$Player28,customSegmentTimelineParser:this.$Player29},this.$Player12,this.$Player15,this.$Player46,this.$Player25);this.$Player10.addSubscriptions(b.onError(this.$Player11.emitError));return b.parse(a)};f.$Player64=function(){var a=[];this.$Player16&&a.push(new(d("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider)());return a};f.$Player95=function(a,b){b=this.$Player4.get(b);return b?b.getRepresentationIDAtTime(a):null};f.getAudioRepresentationIDAtTime=function(a){return this.$Player95(a,"audio")};f.getVideoRepresentationIDAtTime=function(a){return this.$Player95(a,"video")};f.getCurrentVideoRepresentation=function(){return this.$Player96("video")};f.getCurrentAudioRepresentation=function(){return this.$Player96("audio")};f.$Player96=function(a){var b=this.$Player95(this.$Player13.getCurrentTime(),a),c=this.$Player9;if(!c)return null;var d=[];a==="audio"?d=c.getAudioRepresentations():a==="video"&&(d=c.getVideoRepresentations());return(a=d.find(function(a){return a.getID()===b}))!=null?a:null};f.getSelectedVideoRepresentation=function(){var a=this.$Player4.get("video");return a!=null?a.getCurrentRepresentation():null};f.getSelectedAudioRepresentation=function(){var a=this.$Player4.get("audio");return a!=null?a.getCurrentRepresentation():null};f.$Player74=function(){this.$Player4.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};f.$Player75=function(){this.$Player4.forEach(function(a){return a.endStream()})};f.getDebug=function(){var a=this,b=this.$Player4.get("video"),c=this.$Player4.get("audio"),d,e,f,g,i;b&&(d=b.getDebug().MediaStreamAbrManager,e=b.getDebug().SourceBufferManager,e&&(f=e.getDebug().SourceBuffer));c&&(g=c.getDebug().SourceBufferManager,g&&(i=g.getDebug().SourceBuffer));return{getManifest:function(){return h(a.$Player9)},indentifiersIntact:!0,VideoSourceStream:b,VideoAbrManager:d,VideoBufferManager:e,VideoSourceBuffer:f,AudioSourceStream:c,AudioBufferManager:g,AudioSourceBuffer:i}};f.injectExternalDebugEvent=function(a,b){this.$Player89(a,b)};f.$Player89=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};f.$Player65=function(){this.$Player3.getBool("live_playhead_catch_up")&&(this.$Player33=new(c("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player3))};f.$Player66=function(){var a=this,b=new(c("oz-player/strategies/OzBufferingDetector"))(this.$Player2,this.$Player3.getLegacyConfig(),function(){return a.$Player49?a.$Player2.duration:Infinity});b.attachPerfLoggerProvider(this.$Player15);this.$Player10.addSubscriptions(b.addListener("enterBuffering",function(b){a.emit("enterBuffering",b)}),b.addListener("leaveBuffering",function(){a.emit("leaveBuffering")}));return b};f.$Player85=function(){var a=this.$Player50?this.$Player50():{width:this.$Player2.offsetWidth,height:this.$Player2.offsetHeight};return a};f.getMpdUrl=function(){return this.$Player17};f.$Player81=function(a){var b=this;this.$Player17=a;var c=this.$Player9;if(!c){this.$Player58=!0;return}else{c.updateLocation(a);this.$Player41&&(this.$Player10.releaseOne(this.$Player41),this.$Player41=null);a=function(){b.$Player41&&(b.$Player10.releaseOne(b.$Player41),b.$Player41=null),b.$Player4.forEach(function(a,d){var e=a.getCurrentRepresentation(),f=e.getQualityLabel();e=d==="video"?c.getVideoRepresentations().slice():c.getAudioRepresentations().slice();if(d==="video"){d=b.$Player5.get(d);d&&d.updateRepresentations(c.getVideoRepresentations())}d=e[0];e.forEach(function(a){var b=a.getQualityLabel();b===f&&(d=a)});a.switchRepresentation(d);a.restartLoopBody()})};this.$Player41=c.addListener("updated",a);this.$Player10.addSubscriptions(this.$Player41)}};f.getPerfLoggerProvider=function(){return this.$Player15};f.getApproximateFBLSToPlayerDisplayLatency=function(){var a;a=Number((a=(a=this.$Player9)==null?void 0:a.getCustomField("lastVideoFrameTs"))!=null?a:void 0);if(!this.$Player13.getCurrentTime()||isNaN(a))return null;var b=0;this.$Player56===a?b=(c("oz-player/shims/OzPerformance").now()-Number(this.$Player57))/1e3:(this.$Player57=c("oz-player/shims/OzPerformance").now(),this.$Player56=a);return a/1e3+b-this.$Player13.getCurrentTime()};return e}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/Player")}),98);